const _0x10f6=['transition-complete','dragStartX','renderFade','isUnreachable','onMouseWheel','isProcessingResize','#transition\x20.pseudo-select-options','setupSquares','startEngine','638431ipSOEX','engineWrapper','stop','onMouseOut','Special','Engine\x20stopped...','textContent','wheel','aoy','now','camera','next','scenario','msTarget','index','mousedown','frame','sort','Pond','step','substr','74339numnqb','innerWidth','_toPosition','selected','keyPanning','prepare','frames','Engine\x20started...','min','dragStartY','create','asset','map','forEach','ease-out','keyboard','stopEngine','checked','yPanAngle','462035JQoVos','ruins','preload','xPanBounds','RegExp','onMouseDown','eospToggle','posY','apply','state','tools-wrapper','button','start','_resizeCanvas','querySelector','createElement','#scenario\x20.pseudo-select-options','keyup','target','src','bind','isProcessingCameraMovement','toString','className','player.png','sorted','Trunk\x202','directory','areas','listen','_calculateCameraOffsets','1929670GJkdUz','style','last','squares','getContext','#transition\x20.selected','error','North','then','Heavy\x20Grass','#transition\x20.pseudo-select','resolve','Escape','load','canvas','camera-movement-complete','effects','deltaMs','setupFade','running','ceil','all','isWater','Down','_windowToCanvas','object','undefined','decorations','edgePanning','imageSmoothingEnabled','selectedTransition','Water\x20-\x20Break\x20North','onKeyDown','yPanBounds','onKeyUp','Tree\x20Trunk','mimic.png','split','round','Stone\x20Alt','configuration','clearRect','onRightClick','events','Stone\x202','Rug\x20-\x20Top\x20Left','1TOsSLH','globalAlpha','renderCurtains','_load','zoom','Dirt\x204','toggle','Skill','ArrowUp','keydown','Right','_windowToTile','keyboardPanning','mimic','Empty','woodlands','32665tyiZlX','fade','push','translate','remove','data','Cancel','transitionOptWrap','mouseup','dragCurrentY','img','log','#scenario\x20.pseudo-select','Wait','Empty,\x20Unreachable','toCenter','allowDragging','Camera\x20Down','Water','wasdToggle','console','Water\x20-\x20Break\x20West','panning','renderSquares','preventDefault','leftDragging','contains','Attack','length','slime','east','function','speed','slice','div','orientation','hit','concat','Dirt\x202','cache','dragToggle','Grass','save','Dirt\x203','mousemove','green','Camera\x20Left','691188eTadiu','south','values','stop-engine','setPanningBoundaries','setupCurtains','initialize','appendChild','abs','dragStartCamPosY','classList','Tree\x20Foliage','selected-scenario','area','tiles','ArrowDown','key','warn','wrapper','controllers','_canvasToTile','ctx','pond','test','KEYBOARD','Rug\x20-\x20Bottom\x20Right','change','click','Dirt\x20Water','isSloped','keys','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','getElementById','351477SWcbPS','entries','show','onClick','allowWASDPanning','scenarioOptWrap','selected-transition','end','msRemaining','addEventListener','bounds','fps','reverse','start-engine','random','position','easing','middleDragging','onMouseUp','DOM','prototype','dispatch','currentArea','west','width','Camera\x20Up','isPendingResize','drawCalls','red','Duplicate\x20event\x20ID\x20created.\x20Generating\x20new\x20ID.','setup','allowEdgePanning','_getArea','xPanAngle','drag','keysDown','layout','delta','player','fillRect','scaling','linear','toUpperCase','name','posX','isHazard','Dirt','Confirm','height','Move','Random','hide','3tZCnEl','surface','onMouseMove','floor','reset','Camera\x20Right','_use','render','max','isAnimated','filter','#scenario\x20.selected','contextmenu','eos','update','dragCurrentX','exception','ArrowLeft','units','adjustment','Stone\x203','Left','inverse','#engine\x20.header','renderFn','idx','dragging','north','hasOwnProperty','slime.png','dragStartCamPosX','restore','drawImage','aox','scenarioSelect','transitionSelect','delay','add','toLocation','selectedScenario','window','info','animations','msCurrent'];const _0x289279=_0x3f5b;(function(_0x28b6c5,_0x5d5089){const _0x3c3571=_0x3f5b;while(!![]){try{const _0x3c5bcd=parseInt(_0x3c3571(0x235))+parseInt(_0x3c3571(0x25d))+parseInt(_0x3c3571(0x1ab))+parseInt(_0x3c3571(0x16c))*parseInt(_0x3c3571(0x24a))+-parseInt(_0x3c3571(0x17c))*-parseInt(_0x3c3571(0x200))+parseInt(_0x3c3571(0x1cc))+-parseInt(_0x3c3571(0x27c));if(_0x3c5bcd===_0x5d5089)break;else _0x28b6c5['push'](_0x28b6c5['shift']());}catch(_0x360480){_0x28b6c5['push'](_0x28b6c5['shift']());}}}(_0x10f6,0x5e303));const _0xa63576=function(){let _0x1f6d65=!![];return function(_0x16e7b4,_0x459330){const _0xfd15c=_0x1f6d65?function(){const _0x1f6aee=_0x3f5b;if(_0x459330){const _0x7a5ea5=_0x459330[_0x1f6aee(0x265)](_0x16e7b4,arguments);return _0x459330=null,_0x7a5ea5;}}:function(){};return _0x1f6d65=![],_0xfd15c;};}(),_0x45fae8=_0xa63576(this,function(){const _0x190999=_0x3f5b,_0x5233dc=typeof window!==_0x190999(0x296)?window:typeof process===_0x190999(0x295)&&typeof require==='function'&&typeof global===_0x190999(0x295)?global:this,_0x264072=function(){const _0x40f997=_0x190999,_0x1c6815=new _0x5233dc[(_0x40f997(0x261))](_0x40f997(0x1ca));return!_0x1c6815[_0x40f997(0x1c2)](_0x45fae8);};return _0x264072();});_0x45fae8();function _0x3f5b(_0xb89bd7,_0x32b10e){_0xb89bd7=_0xb89bd7-0x159;let _0x36b6ba=_0x10f6[_0xb89bd7];return _0x36b6ba;}const _0x104b0b=function(){let _0x2569ee=!![];return function(_0x5d756b,_0x46375d){const _0x59b63f=_0x2569ee?function(){if(_0x46375d){const _0x3e9b2f=_0x46375d['apply'](_0x5d756b,arguments);return _0x46375d=null,_0x3e9b2f;}}:function(){};return _0x2569ee=![],_0x59b63f;};}(),_0x5db697=_0x104b0b(this,function(){const _0x50706b=_0x3f5b,_0x4ce0f7=typeof window!==_0x50706b(0x296)?window:typeof process==='object'&&typeof require===_0x50706b(0x19b)&&typeof global==='object'?global:this,_0x575a76=_0x4ce0f7[_0x50706b(0x190)]=_0x4ce0f7['console']||{},_0x313a07=[_0x50706b(0x187),_0x50706b(0x1bc),_0x50706b(0x229),_0x50706b(0x282),_0x50706b(0x210),'table','trace'];for(let _0x1b3ba3=0x0;_0x1b3ba3<_0x313a07['length'];_0x1b3ba3++){const _0x163a0d=_0x104b0b['constructor'][_0x50706b(0x1e0)][_0x50706b(0x271)](_0x104b0b),_0x1db49a=_0x313a07[_0x1b3ba3],_0x1d4f8d=_0x575a76[_0x1db49a]||_0x163a0d;_0x163a0d['__proto__']=_0x104b0b[_0x50706b(0x271)](_0x104b0b),_0x163a0d[_0x50706b(0x273)]=_0x1d4f8d[_0x50706b(0x273)][_0x50706b(0x271)](_0x1d4f8d),_0x575a76[_0x1db49a]=_0x163a0d;}});_0x5db697();class Camera{constructor(_0x4cb6e0,_0x4b5378,_0x4ba7e7){const _0x50665b=_0x3f5b;this[_0x50665b(0x228)]={},this[_0x50665b(0x228)]['x']=window['innerWidth'],this[_0x50665b(0x228)]['y']=window['innerHeight'],this[_0x50665b(0x170)]=0x1,this['scaling']=_0x4ba7e7||0x1,this[_0x50665b(0x1db)]={},this['position']['x']=0x0,this[_0x50665b(0x1db)]['y']=0x0,this[_0x50665b(0x26f)]={},this[_0x50665b(0x26f)]['x']=0x0,this[_0x50665b(0x26f)]['y']=0x0,this['msRemaining']=0x0,this[_0x50665b(0x213)]={},this[_0x50665b(0x213)]['x']=0x0,this['adjustment']['y']=0x0,this[_0x50665b(0x1eb)]=!0x1,this['allowWASDPanning']=!0x0,this[_0x50665b(0x18c)]=!0x0,this[_0x50665b(0x192)]=!0x1,this[_0x50665b(0x24e)]=!0x1,this['panningMs']=0x0,this[_0x50665b(0x1ed)]=0x0,this[_0x50665b(0x25c)]=0x0,this[_0x50665b(0x260)]={'min':0x0,'max':0x0},this[_0x50665b(0x15f)]={'min':0x0,'max':0x0},this['dragging']=!0x1,this['dragStartCamPosX']=0x0,this[_0x50665b(0x1b4)]=0x0,this['dragStartX']=0x0,this[_0x50665b(0x253)]=0x0,this[_0x50665b(0x20f)]=0x0,this['dragCurrentY']=0x0,window['addEventListener']('resize',()=>this[_0x50665b(0x26a)](_0x4cb6e0,_0x4b5378)),window[_0x50665b(0x1d5)]('fullscreenchange',()=>this[_0x50665b(0x26a)](_0x4cb6e0,_0x4b5378)),this['_resizeCanvas'](_0x4cb6e0,_0x4b5378);}get[_0x289279(0x1f8)](){const _0x382b66=_0x289279;return Math[_0x382b66(0x164)](this[_0x382b66(0x1db)]['x']);}get[_0x289279(0x264)](){const _0x24144f=_0x289279;return Math['round'](this[_0x24144f(0x1db)]['y']);}[_0x289279(0x1af)](_0x39cf07=this[_0x289279(0x1e2)]){const _0x1f8518=_0x289279;if(void 0x0!==_0x39cf07){this['currentArea']=_0x39cf07;const _0x3a7ee2=Math[_0x1f8518(0x203)]((canvas[_0x1f8518(0x1e4)]-(_0x39cf07[_0x1f8518(0x1d6)]['x2']+_0x39cf07[_0x1f8518(0x1d6)]['x1'])*this[_0x1f8518(0x1f4)])/0x2),_0xd758a6=Math['floor']((canvas['height']-_0x39cf07[_0x1f8518(0x1d6)]['y2']*this[_0x1f8518(0x1f4)])/0x2);this[_0x1f8518(0x260)][_0x1f8518(0x252)]=_0x3a7ee2+_0x39cf07[_0x1f8518(0x1d6)]['x1']-0x3*_0x39cf07['tw']*this[_0x1f8518(0x1f4)],this[_0x1f8518(0x260)][_0x1f8518(0x208)]=_0x3a7ee2+_0x39cf07[_0x1f8518(0x1d6)]['x2']+0x2*_0x39cf07['tw']*this[_0x1f8518(0x1f4)],this[_0x1f8518(0x15f)][_0x1f8518(0x252)]=_0xd758a6-_0x39cf07[_0x1f8518(0x1d6)]['y2']-0x2*(_0x39cf07['td']+_0x39cf07['th'])*this[_0x1f8518(0x1f4)],this[_0x1f8518(0x15f)]['max']=_0xd758a6+_0x39cf07[_0x1f8518(0x1d6)]['y2'];}}async[_0x289279(0x226)](_0x50361c,_0x27ec8c=0x0,_0x2a8327=null){const _0x38d0b7=_0x289279,_0x5958d4=-Math[_0x38d0b7(0x203)](_0x50361c[_0x38d0b7(0x1f8)]*this[_0x38d0b7(0x1f4)]-Game[_0x38d0b7(0x28a)][_0x38d0b7(0x1e4)]/0x2+_0x50361c['tw']*this[_0x38d0b7(0x1f4)]/0x2),_0xd4300f=-Math[_0x38d0b7(0x203)](_0x50361c[_0x38d0b7(0x264)]*this[_0x38d0b7(0x1f4)]-Game[_0x38d0b7(0x28a)][_0x38d0b7(0x1fc)]/0x2+_0x50361c['td']*this[_0x38d0b7(0x1f4)]/0x2);return this[_0x38d0b7(0x24c)](_0x5958d4,_0xd4300f,_0x27ec8c,_0x2a8327);}async['toCenter'](_0x483e08,_0x5c19c8,_0x39301c=0x0,_0x3aaba6=null){const _0x397e23=_0x289279,_0x58e993=Math['floor']((_0x483e08[_0x397e23(0x1e4)]-(_0x5c19c8['bounds']['x2']+_0x5c19c8['bounds']['x1'])*this[_0x397e23(0x1f4)])/0x2)-_0x5c19c8['tw']*this[_0x397e23(0x1f4)]/0x2,_0x3b87b1=Math[_0x397e23(0x203)]((_0x483e08[_0x397e23(0x1fc)]-_0x5c19c8[_0x397e23(0x1d6)]['y2']*this[_0x397e23(0x1f4)])/0x2)-_0x5c19c8['td']*this[_0x397e23(0x1f4)]/0x2-_0x5c19c8['th']*this[_0x397e23(0x1f4)];return this[_0x397e23(0x24c)](_0x58e993,_0x3b87b1,_0x39301c,_0x3aaba6);}[_0x289279(0x24c)](_0x451434,_0x163d32,_0x45bb86=0x0,_0x2220ba=_0x289279(0x258)){const _0xe991c4=_0x289279;return this[_0xe991c4(0x272)]=!0x0,0x0===_0x45bb86&&(this[_0xe991c4(0x1db)]['x']=_0x451434,this['position']['y']=_0x163d32),this[_0xe991c4(0x26f)]['x']=_0x451434,this[_0xe991c4(0x26f)]['y']=_0x163d32,this['msRemaining']=_0x45bb86,this['easing']=_0x2220ba,new Promise(_0x5332bb=>{const _0x3da383=_0xe991c4;Events['listen'](_0x3da383(0x28b),()=>{const _0x33b897=_0x3da383;this[_0x33b897(0x272)]=!0x1,_0x5332bb();});});}['_getArea'](_0x713fa4,_0x4fef6d,_0x14cc0d){const _0x5482a2=_0x289279;return Math[_0x5482a2(0x1b3)]((_0x713fa4[0x0]*(_0x4fef6d[0x1]-_0x14cc0d[0x1])+_0x4fef6d[0x0]*(_0x14cc0d[0x1]-_0x713fa4[0x1])+_0x14cc0d[0x0]*(_0x713fa4[0x1]-_0x4fef6d[0x1]))/0x2);}[_0x289279(0x1bf)](_0x34a4be,_0x336b5e,_0x40f5a4){const _0x2168c5=_0x289279;_0x34a4be-=this[_0x2168c5(0x1db)]['x'],_0x336b5e-=this[_0x2168c5(0x1db)]['y'];let _0x192986;return _0x40f5a4[_0x2168c5(0x20a)](_0x50dfba=>{const _0x546be5=_0x2168c5,_0x23d048=_0x50dfba['posX']*this['scaling'],_0x318e55=_0x50dfba[_0x546be5(0x264)]*this[_0x546be5(0x1f4)];return _0x34a4be>=_0x23d048&&_0x34a4be<_0x23d048+_0x50dfba['tw']*this[_0x546be5(0x1f4)]&&_0x336b5e>=_0x318e55&&_0x336b5e<_0x318e55+_0x50dfba['td']*this[_0x546be5(0x1f4)]+(_0x50dfba['z']-0x1)*_0x50dfba['th']*this[_0x546be5(0x1f4)];})[_0x2168c5(0x257)](_0x539f64=>{const _0x23fdcb=_0x2168c5,_0x56022f=_0x34a4be-_0x539f64['posX']*this[_0x23fdcb(0x1f4)],_0x3f1592=_0x336b5e-_0x539f64['posY']*this[_0x23fdcb(0x1f4)];let _0x349308,_0x142584,_0x57f366,_0xa2a767;if(_0x539f64['isSloped']){switch(_0x539f64[_0x23fdcb(0x19f)]){case _0x23fdcb(0x21b):_0x349308=[0x0,0x3f],_0x142584=[0x3f,0x0],_0x57f366=[0x7f,0x1f],_0xa2a767=[0x3f,0x5f];break;case _0x23fdcb(0x1e3):_0x349308=[0x7f,0x3f],_0x142584=[0x3f,0x0],_0x57f366=[0x0,0x1f],_0xa2a767=[0x3f,0x5f];break;case _0x23fdcb(0x1ac):_0x349308=[0x0,0x1f],_0x142584=[0x3f,0x1f],_0x57f366=[0x7f,0x3f],_0xa2a767=[0x3f,0x3f];break;case _0x23fdcb(0x19a):_0x349308=[0x0,0x3f],_0x142584=[0x3f,0x1f],_0x57f366=[0x7f,0x1f],_0xa2a767=[0x3f,0x3f];}const _0x4b8cbd=this['_getArea'](_0x349308,_0x142584,_0x57f366)+this[_0x23fdcb(0x1ec)](_0x349308,_0xa2a767,_0x57f366),_0x63dec9=this[_0x23fdcb(0x1ec)]([_0x56022f,_0x3f1592],_0x349308,_0x142584)+this[_0x23fdcb(0x1ec)]([_0x56022f,_0x3f1592],_0x349308,_0xa2a767)+this[_0x23fdcb(0x1ec)]([_0x56022f,_0x3f1592],_0x142584,_0x57f366)+this[_0x23fdcb(0x1ec)]([_0x56022f,_0x3f1592],_0x57f366,_0xa2a767);_0x4b8cbd==_0x63dec9&&(_0x192986=_0x539f64);}else{const _0x491470=Math[_0x23fdcb(0x203)]((0x10*this[_0x23fdcb(0x1f4)]-Math[_0x23fdcb(0x1b3)](0x10*this['scaling']-_0x56022f))/0x2)>=Math[_0x23fdcb(0x1b3)](0x8*this[_0x23fdcb(0x1f4)]-_0x3f1592);if(_0x491470)_0x192986=_0x539f64;else{const _0x545e00=_0x3f1592>Math[_0x23fdcb(0x203)]((0x10*this[_0x23fdcb(0x1f4)]-Math[_0x23fdcb(0x1b3)](0x10*this[_0x23fdcb(0x1f4)]-_0x56022f))/0x2)+0x8*this[_0x23fdcb(0x1f4)];_0x545e00&&(_0x192986=void 0x0);}}}),_0x192986;}[_0x289279(0x294)](_0x184ce0,_0x3b982b){const _0x5a68c2=_0x289279,_0x2e65f3={};return _0x2e65f3['x']=Math['floor'](_0x184ce0/this[_0x5a68c2(0x170)]),_0x2e65f3['y']=Math[_0x5a68c2(0x203)](_0x3b982b/this[_0x5a68c2(0x170)]),_0x2e65f3;}[_0x289279(0x177)](_0x37550f,_0xdb8212,_0x3a47df){const _0x20879a=_0x289279,_0x361c24=this['_windowToCanvas'](_0x37550f,_0xdb8212);return this[_0x20879a(0x1bf)](_0x361c24['x'],_0x361c24['y'],_0x3a47df);}[_0x289279(0x26a)](_0x2b1f78,_0x4f2197){const _0x2d8895=_0x289279;if(this[_0x2d8895(0x231)])return this[_0x2d8895(0x1e6)]=!0x0;this[_0x2d8895(0x231)]=!0x0;const _0x91ba8d=_0x2b1f78[_0x2d8895(0x1e4)],_0x55e116=_0x2b1f78[_0x2d8895(0x1fc)];this['window']['x']=window[_0x2d8895(0x24b)],_0x2b1f78[_0x2d8895(0x1e4)]=Math['ceil'](this[_0x2d8895(0x228)]['x']/this[_0x2d8895(0x170)]),_0x2b1f78['style'][_0x2d8895(0x1e4)]=_0x2b1f78[_0x2d8895(0x1e4)]*this['zoom']+'px',this[_0x2d8895(0x228)]['y']=window['innerHeight'],_0x2b1f78[_0x2d8895(0x1fc)]=Math[_0x2d8895(0x290)](this[_0x2d8895(0x228)]['y']/this[_0x2d8895(0x170)]),_0x2b1f78[_0x2d8895(0x27d)][_0x2d8895(0x1fc)]=_0x2b1f78[_0x2d8895(0x1fc)]*this['zoom']+'px';const _0x20662d=(_0x2b1f78[_0x2d8895(0x1e4)]-_0x91ba8d)/0x2-this['adjustment']['x'],_0x3e8e8d=(_0x2b1f78[_0x2d8895(0x1fc)]-_0x55e116)/0x2-this[_0x2d8895(0x213)]['y'];return this[_0x2d8895(0x213)]['x']=Math[_0x2d8895(0x164)](_0x20662d)-_0x20662d,this[_0x2d8895(0x213)]['y']=Math[_0x2d8895(0x164)](_0x3e8e8d)-_0x3e8e8d,this['position']['x']=this[_0x2d8895(0x26f)]['x']=this[_0x2d8895(0x1db)]['x']+Math[_0x2d8895(0x164)](_0x20662d),this[_0x2d8895(0x1db)]['y']=this[_0x2d8895(0x26f)]['y']=this['position']['y']+Math[_0x2d8895(0x164)](_0x3e8e8d),this['isProcessingResize']=!0x1,_0x4f2197[_0x2d8895(0x15b)]=!0x1,this[_0x2d8895(0x1af)](),!!this[_0x2d8895(0x1e6)]&&void(this[_0x2d8895(0x1e6)]=!0x1,this['_resizeCanvas'](_0x2b1f78,_0x4f2197));}[_0x289279(0x27b)](_0xd2395a){const _0x525159=_0x289279;let _0x31cea8=Math['min'](_0xd2395a/this['msRemaining'],0x1);_0x525159(0x1f5)!=this[_0x525159(0x1dc)]&&(_0x31cea8*=_0x525159(0x258)==this[_0x525159(0x1dc)]?0x2-_0x31cea8:0xa*_0x31cea8);const _0x348767=_0x31cea8*(this['target']['x']-this['position']['x']),_0x1ee3c3=_0x31cea8*(this[_0x525159(0x26f)]['y']-this[_0x525159(0x1db)]['y']);let _0x71e7ac=0x0,_0x40bd60=0x0;return 0x0<this[_0x525159(0x26f)]['x']-this[_0x525159(0x1db)]['x']?_0x71e7ac=Math[_0x525159(0x252)](this['target']['x'],this[_0x525159(0x1db)]['x']+_0x348767)-this[_0x525159(0x1db)]['x']:0x0>this['target']['x']-this['position']['x']&&(_0x71e7ac=Math[_0x525159(0x208)](this['target']['x'],this[_0x525159(0x1db)]['x']+_0x348767)-this[_0x525159(0x1db)]['x']),0x0<this[_0x525159(0x26f)]['y']-this['position']['y']?_0x40bd60=Math['min'](this[_0x525159(0x26f)]['y'],this[_0x525159(0x1db)]['y']+_0x1ee3c3)-this[_0x525159(0x1db)]['y']:0x0>this[_0x525159(0x26f)]['y']-this[_0x525159(0x1db)]['y']&&(_0x40bd60=Math[_0x525159(0x208)](this['target']['y'],this['position']['y']+_0x1ee3c3)-this[_0x525159(0x1db)]['y']),{'x':_0x71e7ac,'y':_0x40bd60};}[_0x289279(0x207)](_0x2a69d3){const _0xfdabef=_0x289279;if(this[_0xfdabef(0x18c)]&&this['dragging']){const _0x68e877=Math['max'](Math[_0xfdabef(0x252)](this[_0xfdabef(0x260)][_0xfdabef(0x208)],this[_0xfdabef(0x21e)]+(this[_0xfdabef(0x20f)]-this['dragStartX'])),this[_0xfdabef(0x260)][_0xfdabef(0x252)]),_0x25b1e3=Math[_0xfdabef(0x208)](Math[_0xfdabef(0x252)](this[_0xfdabef(0x15f)][_0xfdabef(0x208)],this[_0xfdabef(0x1b4)]+(this[_0xfdabef(0x185)]-this[_0xfdabef(0x253)])),this['yPanBounds'][_0xfdabef(0x252)]);this['_toPosition'](_0x68e877,_0x25b1e3,0x0);}else{if(this[_0xfdabef(0x1d0)]&&(Input[_0xfdabef(0x1ef)]['a']||Input[_0xfdabef(0x1ef)]['d']||Input[_0xfdabef(0x1ef)]['w']||Input[_0xfdabef(0x1ef)]['s'])){Game['camera'][_0xfdabef(0x1ed)]=~~Input['keysDown']['d']-~~Input[_0xfdabef(0x1ef)]['a'],Game['camera'][_0xfdabef(0x25c)]=~~Input['keysDown']['s']-~~Input[_0xfdabef(0x1ef)]['w'];const _0x40ff36=Math[_0xfdabef(0x208)](Math[_0xfdabef(0x252)](this[_0xfdabef(0x260)][_0xfdabef(0x208)],this['target']['x']-0xf*this[_0xfdabef(0x1ed)]),this['xPanBounds']['min']),_0x1953b5=Math['max'](Math[_0xfdabef(0x252)](this['yPanBounds'][_0xfdabef(0x208)],this[_0xfdabef(0x26f)]['y']-0xf*this[_0xfdabef(0x25c)]),this[_0xfdabef(0x15f)][_0xfdabef(0x252)]);this[_0xfdabef(0x24c)](_0x40ff36,_0x1953b5,_0x2a69d3);}else{if(this[_0xfdabef(0x1eb)]&&this[_0xfdabef(0x192)]){const _0x39bc0c=Math['max'](Math[_0xfdabef(0x252)](this[_0xfdabef(0x260)][_0xfdabef(0x208)],this[_0xfdabef(0x26f)]['x']-0xf*this['xPanAngle']),this[_0xfdabef(0x260)]['min']),_0x1bf2b7=Math[_0xfdabef(0x208)](Math['min'](this['yPanBounds']['max'],this[_0xfdabef(0x26f)]['y']-0xf*this[_0xfdabef(0x25c)]),this[_0xfdabef(0x15f)][_0xfdabef(0x252)]);this[_0xfdabef(0x24c)](_0x39bc0c,_0x1bf2b7,_0x2a69d3);}}}if(this[_0xfdabef(0x272)]){this[_0xfdabef(0x1d4)]=Math[_0xfdabef(0x208)](this[_0xfdabef(0x1d4)]-_0x2a69d3,0x0);const _0x2d6bcc=this[_0xfdabef(0x27b)](_0x2a69d3);this[_0xfdabef(0x1db)]['x']+=_0x2d6bcc['x'],this[_0xfdabef(0x1db)]['y']+=_0x2d6bcc['y'],this['position']['x']==this[_0xfdabef(0x26f)]['x']&&this[_0xfdabef(0x1db)]['y']==this[_0xfdabef(0x26f)]['y']&&Events[_0xfdabef(0x1e1)](_0xfdabef(0x28b));}}}class CinematicManager{constructor(){}}class DevTools{constructor(){const _0x5294f8=_0x289279;this['DOM']={},this[_0x5294f8(0x1df)]['wrapper']=document[_0x5294f8(0x1cb)](_0x5294f8(0x267)),this[_0x5294f8(0x1df)][_0x5294f8(0x172)]=document[_0x5294f8(0x1cb)]('tools-button'),this[_0x5294f8(0x1df)][_0x5294f8(0x236)]=document[_0x5294f8(0x1cb)]('engine'),this[_0x5294f8(0x1df)][_0x5294f8(0x25a)]=document[_0x5294f8(0x1cb)](_0x5294f8(0x1ae)),this[_0x5294f8(0x1df)][_0x5294f8(0x234)]=document[_0x5294f8(0x1cb)](_0x5294f8(0x1d9)),this[_0x5294f8(0x1df)][_0x5294f8(0x263)]=document['getElementById'](_0x5294f8(0x20d)),this[_0x5294f8(0x1df)][_0x5294f8(0x18f)]=document[_0x5294f8(0x1cb)](_0x5294f8(0x259)),this[_0x5294f8(0x1df)][_0x5294f8(0x1a4)]=document[_0x5294f8(0x1cb)](_0x5294f8(0x1ee)),this[_0x5294f8(0x1df)][_0x5294f8(0x227)]=document['getElementById'](_0x5294f8(0x1b7)),this[_0x5294f8(0x1df)][_0x5294f8(0x15c)]=document[_0x5294f8(0x1cb)](_0x5294f8(0x1d2)),this[_0x5294f8(0x1df)]['engineHeader']=document[_0x5294f8(0x26b)](_0x5294f8(0x217)),this[_0x5294f8(0x1df)][_0x5294f8(0x1d7)]=document[_0x5294f8(0x26b)]('#fps\x20>\x20span'),this[_0x5294f8(0x1df)][_0x5294f8(0x222)]=document[_0x5294f8(0x26b)](_0x5294f8(0x188)),this[_0x5294f8(0x1df)][_0x5294f8(0x1d1)]=document[_0x5294f8(0x26b)](_0x5294f8(0x26d)),this[_0x5294f8(0x1df)][_0x5294f8(0x223)]=document[_0x5294f8(0x26b)](_0x5294f8(0x286)),this[_0x5294f8(0x1df)][_0x5294f8(0x183)]=document[_0x5294f8(0x26b)](_0x5294f8(0x232)),this[_0x5294f8(0x28d)]=0x0,this[_0x5294f8(0x1e7)]=0x0;const _0xb5d944=_0x1fc510=>{const _0x51b1f6=_0x5294f8,_0x4a178a=_0x1fc510['target']['id'][_0x51b1f6(0x163)]('-')[0x0],_0x5578c0=this['DOM']['engineWrapper'][_0x51b1f6(0x1b5)][_0x51b1f6(0x196)](_0x51b1f6(0x28f)),_0x1fa769=!(!0x1!=_0x5578c0||'start'!=_0x4a178a),_0x31b4e9=!(!0x0!=_0x5578c0||_0x51b1f6(0x237)!=_0x4a178a);(_0x1fa769||_0x31b4e9)&&(this[_0x51b1f6(0x1df)]['engineWrapper'][_0x51b1f6(0x1b5)][_0x51b1f6(0x172)]('running',_0x1fa769),this[_0x51b1f6(0x1df)][_0x51b1f6(0x25a)]['classList'][_0x51b1f6(0x172)](_0x51b1f6(0x1e8),_0x1fa769),this['DOM']['startEngine'][_0x51b1f6(0x1b5)][_0x51b1f6(0x172)](_0x51b1f6(0x1a9),_0x31b4e9),_0x1fa769?(this[_0x51b1f6(0x1e7)]=0x3c,this[_0x51b1f6(0x28d)]=0x3e8,Engine['start']()):(Engine[_0x51b1f6(0x237)](),this[_0x51b1f6(0x1e7)]=-0x1,this['deltaMs']=0x3e8,this['render'](0x0)));},_0x46a3c5=_0x30a6bb=>{const _0x59e39c=_0x5294f8;_0x30a6bb[_0x59e39c(0x26f)][_0x59e39c(0x1b5)][_0x59e39c(0x196)]('selected')||(this[_0x59e39c(0x1df)][_0x59e39c(0x227)][_0x59e39c(0x23b)]=_0x30a6bb[_0x59e39c(0x26f)][_0x59e39c(0x23b)],document[_0x59e39c(0x26b)](_0x59e39c(0x20b))[_0x59e39c(0x1b5)]['remove'](_0x59e39c(0x24d)),_0x30a6bb[_0x59e39c(0x26f)][_0x59e39c(0x1b5)][_0x59e39c(0x225)]('selected'),Game['prepare'](_0x30a6bb[_0x59e39c(0x26f)]['id'],STATE_COMBAT)[_0x59e39c(0x284)](()=>Game[_0x59e39c(0x1b1)](STATE_COMBAT)));},_0x23a61a=_0x1515cb=>{const _0x115678=_0x5294f8;_0x1515cb[_0x115678(0x26f)][_0x115678(0x1b5)][_0x115678(0x196)]('selected')||(this[_0x115678(0x1df)][_0x115678(0x15c)][_0x115678(0x23b)]=_0x1515cb[_0x115678(0x26f)][_0x115678(0x23b)],document[_0x115678(0x26b)](_0x115678(0x281))[_0x115678(0x1b5)][_0x115678(0x180)]('selected'),_0x1515cb[_0x115678(0x26f)][_0x115678(0x1b5)][_0x115678(0x225)](_0x115678(0x24d)),Transitions[_0x115678(0x27e)]=_0x1515cb[_0x115678(0x26f)]['id']);};this[_0x5294f8(0x1df)][_0x5294f8(0x1a4)][_0x5294f8(0x25b)]=Game['camera'][_0x5294f8(0x18c)],this[_0x5294f8(0x1df)][_0x5294f8(0x263)][_0x5294f8(0x25b)]=Game[_0x5294f8(0x23f)][_0x5294f8(0x1eb)],this[_0x5294f8(0x1df)][_0x5294f8(0x18f)]['checked']=Game[_0x5294f8(0x23f)][_0x5294f8(0x1d0)],Object[_0x5294f8(0x1ad)](Scenario[_0x5294f8(0x181)])[_0x5294f8(0x257)]((_0x49dedb,_0x9fcc7)=>{const _0x168aea=_0x5294f8,_0x592edd=_0x49dedb['id'],_0x378de=_0x49dedb[_0x168aea(0x1f7)],_0x42e259=document[_0x168aea(0x26c)]('div');_0x42e259[_0x168aea(0x23b)]=_0x378de,_0x42e259['id']=_0x592edd,0x0===_0x9fcc7&&(_0x42e259[_0x168aea(0x274)]=_0x168aea(0x24d)),_0x42e259[_0x168aea(0x1d5)](_0x168aea(0x1c6),_0x43c41c=>_0x46a3c5(_0x43c41c)),this[_0x168aea(0x1df)][_0x168aea(0x1d1)]['appendChild'](_0x42e259);}),Object[_0x5294f8(0x1c9)](Transitions[_0x5294f8(0x28c)])[_0x5294f8(0x257)]((_0x5aa330,_0x462968)=>{const _0x1c8b8d=_0x5294f8;if(0x0===_0x462968){const _0x212471=document[_0x1c8b8d(0x26c)](_0x1c8b8d(0x19e));_0x212471['textContent']=_0x1c8b8d(0x1fe),_0x212471['id']=_0x1c8b8d(0x1da),_0x212471[_0x1c8b8d(0x274)]=_0x1c8b8d(0x24d),_0x212471[_0x1c8b8d(0x1d5)]('click',_0x4886eb=>_0x23a61a(_0x4886eb)),this[_0x1c8b8d(0x1df)]['transitionOptWrap']['appendChild'](_0x212471);}const _0x56a069=_0x5aa330[_0x1c8b8d(0x1f6)]()[0x0]+_0x5aa330[_0x1c8b8d(0x19d)](0x1),_0x4a9022=document[_0x1c8b8d(0x26c)]('div');_0x4a9022[_0x1c8b8d(0x23b)]=_0x56a069,_0x4a9022['id']=_0x5aa330,_0x4a9022[_0x1c8b8d(0x1d5)]('click',_0x23fdbe=>_0x23a61a(_0x23fdbe)),this[_0x1c8b8d(0x1df)][_0x1c8b8d(0x183)][_0x1c8b8d(0x1b2)](_0x4a9022);}),this[_0x5294f8(0x1df)][_0x5294f8(0x172)][_0x5294f8(0x1d5)](_0x5294f8(0x1c6),()=>this[_0x5294f8(0x1df)][_0x5294f8(0x1bd)]['classList'][_0x5294f8(0x172)](_0x5294f8(0x1ff))),this['DOM'][_0x5294f8(0x234)]['addEventListener'](_0x5294f8(0x1c6),_0x11cddd=>_0xb5d944(_0x11cddd)),this[_0x5294f8(0x1df)][_0x5294f8(0x25a)]['addEventListener'](_0x5294f8(0x1c6),_0x5a7a5a=>_0xb5d944(_0x5a7a5a)),this[_0x5294f8(0x1df)][_0x5294f8(0x1a4)]['addEventListener'](_0x5294f8(0x1c5),_0x404edf=>Game[_0x5294f8(0x23f)][_0x5294f8(0x18c)]=_0x404edf[_0x5294f8(0x26f)][_0x5294f8(0x25b)]),this[_0x5294f8(0x1df)]['eospToggle'][_0x5294f8(0x1d5)](_0x5294f8(0x1c5),_0x20177f=>Game[_0x5294f8(0x23f)][_0x5294f8(0x1eb)]=_0x20177f['target'][_0x5294f8(0x25b)]),this[_0x5294f8(0x1df)][_0x5294f8(0x18f)][_0x5294f8(0x1d5)](_0x5294f8(0x1c5),_0x242108=>Game[_0x5294f8(0x23f)]['allowWASDPanning']=_0x242108['target'][_0x5294f8(0x25b)]),this[_0x5294f8(0x1df)][_0x5294f8(0x222)][_0x5294f8(0x1d5)](_0x5294f8(0x1c6),()=>this[_0x5294f8(0x1df)]['scenarioSelect'][_0x5294f8(0x1b5)][_0x5294f8(0x172)](_0x5294f8(0x1ce))),this[_0x5294f8(0x1df)][_0x5294f8(0x223)][_0x5294f8(0x1d5)](_0x5294f8(0x1c6),()=>this[_0x5294f8(0x1df)][_0x5294f8(0x223)][_0x5294f8(0x1b5)]['toggle']('show'));}[_0x289279(0x207)](_0x393bd0){const _0x59ce73=_0x289279;this[_0x59ce73(0x1e7)]+=0x1,this[_0x59ce73(0x28d)]+=_0x393bd0,0x3e8>this['deltaMs']||(this['DOM'][_0x59ce73(0x1d7)][_0x59ce73(0x23b)]=this[_0x59ce73(0x1e7)],this[_0x59ce73(0x28d)]-=0x3e8,this['drawCalls']=0x0);}}class EngineLoop{constructor(){const _0x7c5b3e=_0x289279;this['step']=0x32,this[_0x7c5b3e(0x245)]=0x0,this[_0x7c5b3e(0x28f)]=!0x1;}[_0x289279(0x269)](){const _0x320b97=_0x289279;if(this['running'])return;this[_0x320b97(0x28f)]=!0x0;let _0x24bbc3,_0xf5de9b=performance[_0x320b97(0x23e)](),_0x322886=this[_0x320b97(0x248)];const _0x3c52f9=_0xd3f0a1=>{const _0x280a54=_0x320b97;for(this[_0x280a54(0x245)]=requestAnimationFrame(_0x3c52f9),_0x24bbc3=_0xf5de9b,_0xf5de9b=_0xd3f0a1,_0x322886+=_0xf5de9b-_0x24bbc3;_0x322886>=this[_0x280a54(0x248)];)_0x322886-=this['step'],Game[_0x280a54(0x20e)](this[_0x280a54(0x248)]);Game[_0x280a54(0x207)](_0xf5de9b-_0x24bbc3);};this[_0x320b97(0x245)]=requestAnimationFrame(_0x3c52f9),console[_0x320b97(0x187)](_0x320b97(0x251));}[_0x289279(0x237)](){const _0x10ab77=_0x289279;cancelAnimationFrame(this[_0x10ab77(0x245)]),this[_0x10ab77(0x28f)]=!0x1,console[_0x10ab77(0x187)](_0x10ab77(0x23a));}}class EventManager{constructor(){const _0x1589d6=_0x289279;this[_0x1589d6(0x169)]={};}['dispatch'](_0x577570,_0x1d5b6d){const _0x3aa5b9=_0x289279;if(console[_0x3aa5b9(0x187)](_0x577570),void 0x0!==this[_0x3aa5b9(0x169)][_0x577570]){for(let [_0x4f1893,_0x3d5d15]of Object[_0x3aa5b9(0x1cd)](this[_0x3aa5b9(0x169)][_0x577570]))_0x3d5d15['fn'](_0x1d5b6d,_0x4f1893),_0x3d5d15['persistent']||this[_0x3aa5b9(0x180)](_0x577570,_0x4f1893);}}[_0x289279(0x27a)](_0x327595,_0x23782e,_0xc7d4cb=!0x1){const _0x253dde=_0x289279;if(this[_0x253dde(0x169)][_0x327595]=this['events'][_0x327595]||{},_0x253dde(0x19b)==typeof _0x23782e){const _0x3ad8be='_'+Math['random']()[_0x253dde(0x273)](0x24)[_0x253dde(0x249)](0x2,0x9);return void 0x0===this[_0x253dde(0x169)][_0x327595][_0x3ad8be]?(this[_0x253dde(0x169)][_0x327595][_0x3ad8be]={'fn':_0x23782e,'persistent':_0xc7d4cb},_0x3ad8be):(console['warning'](_0x253dde(0x1e9),_0x3ad8be),this['listen'](_0x327595,_0x23782e,_0xc7d4cb));}}[_0x289279(0x180)](_0x143e18,_0x54d0b3){const _0x4409f2=_0x289279;this[_0x4409f2(0x169)][_0x143e18]?.[_0x54d0b3]!==void 0x0&&delete this[_0x4409f2(0x169)][_0x143e18][_0x54d0b3];}}class GameManager{constructor(){const _0x3e2341=_0x289279;this[_0x3e2341(0x28a)]=document[_0x3e2341(0x1cb)](_0x3e2341(0x28a)),this['ctx']=this[_0x3e2341(0x28a)][_0x3e2341(0x280)]('2d'),this[_0x3e2341(0x19c)]=0x1,this[_0x3e2341(0x1f4)]=0x4,this[_0x3e2341(0x23f)]=new Camera(this[_0x3e2341(0x28a)],this['ctx'],this[_0x3e2341(0x1f4)]),this[_0x3e2341(0x1be)]=[,,,,],this[_0x3e2341(0x1be)][0x0]=new TitleController(),this[_0x3e2341(0x1be)][0x1]=new CombatController(),this[_0x3e2341(0x1be)][0x2]=new TownController(),this[_0x3e2341(0x1be)][0x3]=new WorldController(),this[_0x3e2341(0x266)]=null;}async['load'](){const _0x166faf=_0x289279;await Promise['all']([...this[_0x166faf(0x1be)][_0x166faf(0x256)](_0x58b0e8=>_0x58b0e8[_0x166faf(0x16f)]()),Area[_0x166faf(0x16f)](),Unit[_0x166faf(0x16f)](),Scenario[_0x166faf(0x16f)]()]),await this['prepare'](_0x166faf(0x25e),STATE_COMBAT,!0x1),await this[_0x166faf(0x1b1)](STATE_COMBAT,!0x1);}async[_0x289279(0x24f)](_0x4a4885,_0xaa2c8,_0x5dfffe=!0x0){const _0x22221b=_0x289279;return _0x5dfffe?await Promise[_0x22221b(0x291)]([this['controllers'][_0xaa2c8][_0x22221b(0x24f)](_0x4a4885),Transitions['do'](null)]):await this[_0x22221b(0x1be)][_0xaa2c8][_0x22221b(0x24f)](_0x4a4885);}async[_0x289279(0x1b1)](_0xa7fa89,_0x3ccd48=!0x0){const _0x498c2c=_0x289279;this[_0x498c2c(0x266)]=_0xa7fa89,this[_0x498c2c(0x1be)][this['state']][_0x498c2c(0x1b1)](),!0x0===_0x3ccd48&&await Transitions[_0x498c2c(0x1d8)](null);}[_0x289279(0x20e)](_0x510c32){const _0x5eedd6=_0x289279;Input[_0x5eedd6(0x20e)](_0x510c32);}[_0x289279(0x207)](_0x420b7e){const _0xdb0fc4=_0x289279;Tools[_0xdb0fc4(0x207)](_0x420b7e),this[_0xdb0fc4(0x23f)][_0xdb0fc4(0x207)](_0x420b7e),this[_0xdb0fc4(0x1c0)][_0xdb0fc4(0x167)](0x0,0x0,this['canvas']['width'],this[_0xdb0fc4(0x28a)]['height']),this[_0xdb0fc4(0x1be)][this['state']][_0xdb0fc4(0x207)](_0x420b7e),Transitions['render'](_0x420b7e);}['onMouseMove'](_0x2fbf07){const _0x4f2f4b=_0x289279;null==this['state']||this[_0x4f2f4b(0x1be)][this[_0x4f2f4b(0x266)]][_0x4f2f4b(0x202)](_0x2fbf07);}[_0x289279(0x238)](_0x2da4cb){const _0x2432f3=_0x289279;null==this['state']||this[_0x2432f3(0x1be)][this[_0x2432f3(0x266)]][_0x2432f3(0x238)](_0x2da4cb);}['onMouseWheel'](_0x39525d){const _0x4ab15e=_0x289279;null==this[_0x4ab15e(0x266)]||this[_0x4ab15e(0x1be)][this[_0x4ab15e(0x266)]][_0x4ab15e(0x230)](_0x39525d);}['onClick'](_0x4a34b6){const _0x29bceb=_0x289279;null==this[_0x29bceb(0x266)]||this[_0x29bceb(0x1be)][this[_0x29bceb(0x266)]]['onClick'](_0x4a34b6);}[_0x289279(0x262)](_0xa4ccc4){const _0xe22532=_0x289279;null==this[_0xe22532(0x266)]||this[_0xe22532(0x1be)][this[_0xe22532(0x266)]][_0xe22532(0x262)](_0xa4ccc4);}[_0x289279(0x1de)](_0x4d6dfc){const _0x2c46c9=_0x289279;null==this[_0x2c46c9(0x266)]||this['controllers'][this[_0x2c46c9(0x266)]][_0x2c46c9(0x1de)](_0x4d6dfc);}[_0x289279(0x168)](_0xc90476){const _0x11fdec=_0x289279;null==this['state']||this[_0x11fdec(0x1be)][this[_0x11fdec(0x266)]]['onRightClick'](_0xc90476);}['onKeyDown'](_0x138d5a){const _0x16a566=_0x289279;null==this[_0x16a566(0x266)]||this[_0x16a566(0x1be)][this[_0x16a566(0x266)]][_0x16a566(0x15e)](_0x138d5a);}[_0x289279(0x160)](_0x5d9759){const _0x1e0edd=_0x289279;null==this['state']||this[_0x1e0edd(0x1be)][this[_0x1e0edd(0x266)]][_0x1e0edd(0x160)](_0x5d9759);}}class InputManager{constructor(){const _0x51a661=_0x289279;this[_0x51a661(0x1c3)]={},this[_0x51a661(0x1c3)][_0x51a661(0x174)]='Up',this[_0x51a661(0x1c3)]['ArrowRight']=_0x51a661(0x176),this[_0x51a661(0x1c3)][_0x51a661(0x1ba)]=_0x51a661(0x293),this['KEYBOARD'][_0x51a661(0x211)]=_0x51a661(0x215),this[_0x51a661(0x1c3)]['Enter']=_0x51a661(0x1fb),this['KEYBOARD'][_0x51a661(0x288)]=_0x51a661(0x182),this[_0x51a661(0x1c3)]['Shift']=_0x51a661(0x189),this['KEYBOARD']['m']=_0x51a661(0x1fd),this[_0x51a661(0x1c3)]['q']=_0x51a661(0x197),this[_0x51a661(0x1c3)]['e']=_0x51a661(0x239),this['KEYBOARD'][0x1]=_0x51a661(0x173),this[_0x51a661(0x1c3)][0x2]=_0x51a661(0x173),this[_0x51a661(0x1c3)][0x3]=_0x51a661(0x173),this[_0x51a661(0x1c3)][0x4]='Skill',this[_0x51a661(0x1c3)]['w']=_0x51a661(0x1e5),this['KEYBOARD']['a']=_0x51a661(0x1aa),this[_0x51a661(0x1c3)]['s']=_0x51a661(0x18d),this[_0x51a661(0x1c3)]['d']=_0x51a661(0x205),this['actions']=[],this[_0x51a661(0x1ef)]={},document['addEventListener'](_0x51a661(0x1a8),_0x5bd79f=>Game[_0x51a661(0x202)](_0x5bd79f)),document[_0x51a661(0x1d5)]('mouseout',_0x264a80=>Game[_0x51a661(0x238)](_0x264a80)),document['addEventListener'](_0x51a661(0x23c),_0x1d2ad0=>Game['onMouseWheel'](_0x1d2ad0)),document[_0x51a661(0x1d5)]('click',_0x46a40e=>Game['onClick'](_0x46a40e)),document[_0x51a661(0x1d5)](_0x51a661(0x244),_0x107b97=>Game[_0x51a661(0x262)](_0x107b97)),document[_0x51a661(0x1d5)](_0x51a661(0x184),_0xad7787=>Game[_0x51a661(0x1de)](_0xad7787)),document[_0x51a661(0x1d5)](_0x51a661(0x175),_0x7c4c83=>{const _0x3ef775=_0x51a661;this[_0x3ef775(0x1ef)][_0x7c4c83[_0x3ef775(0x1bb)]]=!0x0,Game['onKeyDown'](_0x7c4c83);}),document[_0x51a661(0x1d5)](_0x51a661(0x26e),_0x52fd7f=>{const _0x4e5ed2=_0x51a661;this['keysDown'][_0x52fd7f[_0x4e5ed2(0x1bb)]]=!0x1,Game[_0x4e5ed2(0x160)](_0x52fd7f);}),document[_0x51a661(0x1d5)](_0x51a661(0x20c),_0x409465=>{const _0x386f24=_0x51a661;_0x409465[_0x386f24(0x194)](),Game[_0x386f24(0x168)](_0x409465);});}[_0x289279(0x20e)](){}}class Settings{constructor(){const _0xcc5446=_0x289279;this[_0xcc5446(0x23f)]={},this['camera'][_0xcc5446(0x15a)]=!0x1,this['camera'][_0xcc5446(0x178)]=!0x0,this[_0xcc5446(0x23f)][_0xcc5446(0x195)]=!0x0,this[_0xcc5446(0x23f)][_0xcc5446(0x1dd)]=!0x0;}static async[_0x289279(0x16f)](){const _0x1eecdd=_0x289279;return Promise[_0x1eecdd(0x287)]();}}class TransitionManager{constructor(){const _0x51ddf2=_0x289279;this[_0x51ddf2(0x218)]=null,this['inverse']=!0x1,this[_0x51ddf2(0x242)]=0x0,this[_0x51ddf2(0x22b)]=0x0,this[_0x51ddf2(0x27e)]=null,this[_0x51ddf2(0x1ea)]=null,this[_0x51ddf2(0x28c)]={},this[_0x51ddf2(0x28c)][_0x51ddf2(0x17d)]={'setup':_0x398230=>this[_0x51ddf2(0x28e)](_0x398230),'render':this[_0x51ddf2(0x22e)]},this[_0x51ddf2(0x28c)][_0x51ddf2(0x27f)]={'setup':_0x3e9401=>this[_0x51ddf2(0x233)](_0x3e9401),'render':this['renderSquares']},this[_0x51ddf2(0x28c)]['curtains']={'setup':_0x567dec=>this[_0x51ddf2(0x1b0)](_0x567dec),'render':this[_0x51ddf2(0x16e)]};}['do'](_0x1c30f4=null,_0x35764e=0x3e8){const _0xcea1f4=_0x289279;return this[_0xcea1f4(0x216)]=!0x1,this[_0xcea1f4(0x206)](_0x1c30f4,_0x35764e);}[_0x289279(0x1d8)](_0x2a3416=null,_0x538278=0x3e8){const _0xbea6b7=_0x289279;return this[_0xbea6b7(0x216)]=!0x0,this[_0xbea6b7(0x206)](_0x2a3416,_0x538278);}async[_0x289279(0x206)](_0x514457,_0x43b35c){const _0x27ebdd=_0x289279;let _0x23c314=this[_0x27ebdd(0x28c)][_0x514457]||this[_0x27ebdd(0x28c)][this[_0x27ebdd(0x27e)]];if(null==_0x23c314){const _0xc489b5=Object[_0x27ebdd(0x1c9)](this[_0x27ebdd(0x28c)]);_0x23c314=this['effects'][_0xc489b5[Math[_0x27ebdd(0x203)](Math[_0x27ebdd(0x1da)]()*_0xc489b5[_0x27ebdd(0x198)])]];}return await _0x23c314[_0x27ebdd(0x1ea)](_0x43b35c),this[_0x27ebdd(0x22b)]=0x0,this[_0x27ebdd(0x242)]=_0x43b35c,this[_0x27ebdd(0x218)]=_0x23c314[_0x27ebdd(0x207)],new Promise(_0x542a6a=>Events[_0x27ebdd(0x27a)](_0x27ebdd(0x22c),()=>_0x542a6a()));}[_0x289279(0x207)](_0xb42d9){const _0x8bf34c=_0x289279;null==this[_0x8bf34c(0x218)]||this['renderFn'](_0xb42d9);}[_0x289279(0x1b0)](){const _0x3f6489=_0x289279;return Promise[_0x3f6489(0x287)]();}[_0x289279(0x16e)](_0x2baf28){const _0x553846=_0x289279;this[_0x553846(0x22b)]=Math[_0x553846(0x252)](this[_0x553846(0x242)],this[_0x553846(0x22b)]+_0x2baf28);const _0xadb64b=Math[_0x553846(0x1b3)](0x1*~~this['inverse']-this[_0x553846(0x22b)]/this['msTarget']),_0xd08605=Math['min'](0x1,_0xadb64b+0.5*_0xadb64b),_0x4e499c=Game[_0x553846(0x28a)][_0x553846(0x1e4)]*(_0xd08605*(0x2-_0xd08605)/0x2);Game['ctx'][_0x553846(0x1f3)](0x0,0x0,_0x4e499c+0x1,Game['canvas'][_0x553846(0x1fc)]),Game[_0x553846(0x1c0)][_0x553846(0x1f3)](Game[_0x553846(0x28a)][_0x553846(0x1e4)],0x0,-_0x4e499c-0x1,Game[_0x553846(0x28a)]['height']),this['msCurrent']==this['msTarget']&&(this[_0x553846(0x218)]=null,Events[_0x553846(0x1e1)](_0x553846(0x22c)));}['setupSquares'](_0x20d3b0){const _0x347ae8=_0x289279,_0x7613da=Math['floor'](Game[_0x347ae8(0x28a)][_0x347ae8(0x1fc)]/0xc8),_0x195776=Math[_0x347ae8(0x203)](Game[_0x347ae8(0x28a)][_0x347ae8(0x1e4)]/0xc8);this[_0x347ae8(0x1ea)]=[],this['setup'][_0x347ae8(0x1e4)]=0xc8+Math['ceil'](Game['canvas'][_0x347ae8(0x1e4)]%0xc8/_0x195776),this['setup'][_0x347ae8(0x1fc)]=0xc8+Math[_0x347ae8(0x290)](Game[_0x347ae8(0x28a)][_0x347ae8(0x1fc)]%0xc8/_0x7613da);for(let _0x825f9e=0x0;_0x825f9e<_0x7613da;_0x825f9e++){const _0x19f1b6=[];for(let _0x582a1a=0x0;_0x582a1a<_0x195776;_0x582a1a++){const _0x42bad3={};_0x42bad3[_0x347ae8(0x1d3)]=_0x20d3b0-0x12c-Math['abs'](0x1*~~this[_0x347ae8(0x216)]-(0x1-(_0x825f9e+_0x582a1a)/(_0x7613da+_0x195776-0x2)))*(_0x20d3b0-0x12c)+0x12c,_0x42bad3[_0x347ae8(0x269)]=Math['max'](0x0,_0x42bad3['end']-0x190),_0x19f1b6[_0x347ae8(0x17e)](_0x42bad3);}this['setup'][_0x347ae8(0x17e)](_0x19f1b6);}return Promise[_0x347ae8(0x287)]();}[_0x289279(0x193)](_0x2bda07){const _0x37fe6f=_0x289279;this['msCurrent']=Math['min'](this[_0x37fe6f(0x242)],this['msCurrent']+_0x2bda07);const _0x17fa29=Math[_0x37fe6f(0x1b3)](this[_0x37fe6f(0x242)]*~~this[_0x37fe6f(0x216)]-this['msCurrent']);for(let _0x55ddb5=0x0;_0x55ddb5<this[_0x37fe6f(0x1ea)]['length'];_0x55ddb5++)for(let _0x9819cc=0x0;_0x9819cc<this[_0x37fe6f(0x1ea)][_0x55ddb5][_0x37fe6f(0x198)];_0x9819cc++){const _0x24027a=this[_0x37fe6f(0x1ea)][_0x55ddb5][_0x9819cc];if(_0x24027a[_0x37fe6f(0x269)]<_0x17fa29){const _0x51c11d=Math[_0x37fe6f(0x252)](0x1,(_0x17fa29-_0x24027a[_0x37fe6f(0x269)])/(_0x24027a[_0x37fe6f(0x1d3)]-_0x24027a[_0x37fe6f(0x269)]));Game[_0x37fe6f(0x1c0)][_0x37fe6f(0x16d)]=_0x51c11d,Game[_0x37fe6f(0x1c0)][_0x37fe6f(0x1f3)](_0x9819cc*this[_0x37fe6f(0x1ea)][_0x37fe6f(0x1e4)],_0x55ddb5*this[_0x37fe6f(0x1ea)][_0x37fe6f(0x1fc)],this[_0x37fe6f(0x1ea)][_0x37fe6f(0x1e4)],this[_0x37fe6f(0x1ea)]['height']),Game['ctx']['globalAlpha']=0x1;}}this[_0x37fe6f(0x22b)]==this[_0x37fe6f(0x242)]&&(this[_0x37fe6f(0x218)]=null,Events[_0x37fe6f(0x1e1)](_0x37fe6f(0x22c)));}[_0x289279(0x28e)](){return Promise['resolve']();}[_0x289279(0x22e)](_0x64d34a){const _0x564127=_0x289279;this['msCurrent']=Math[_0x564127(0x252)](this[_0x564127(0x242)],this[_0x564127(0x22b)]+_0x64d34a);const _0x1ce2d2=Math[_0x564127(0x1b3)](0x1*~~this[_0x564127(0x216)]-this['msCurrent']/this[_0x564127(0x242)]);Game[_0x564127(0x1c0)][_0x564127(0x16d)]=1.1*_0x1ce2d2,Game[_0x564127(0x1c0)][_0x564127(0x1f3)](0x0,0x0,Game[_0x564127(0x28a)][_0x564127(0x1e4)],Game['canvas']['height']),Game['ctx'][_0x564127(0x16d)]=0x1,this[_0x564127(0x22b)]==this[_0x564127(0x242)]&&(this[_0x564127(0x218)]=null,Events['dispatch']('transition-complete'));}}class Area{constructor(_0x194ad3,_0x558fed){const _0x1b6d15=_0x289279;this['id']=_0x194ad3,this[_0x1b6d15(0x255)]=Asset[_0x1b6d15(0x254)](this['id'],'areas',Area[_0x1b6d15(0x181)][_0x194ad3]['configuration']),this[_0x1b6d15(0x22a)]=Area[_0x1b6d15(0x181)][_0x194ad3]['animations'],this[_0x1b6d15(0x1d6)]={},this[_0x1b6d15(0x1d6)]['x1']=this['bounds']['x2']=this[_0x1b6d15(0x1d6)]['y2']=0x0,this[_0x1b6d15(0x1f0)]=_0x558fed['layout'][_0x1b6d15(0x256)]((_0x439d44,_0x2c9584)=>_0x439d44[_0x1b6d15(0x256)]((_0x3876de,_0x48fc2c)=>{const _0x34b4be=_0x1b6d15,_0x379846=new Location(_0x2c9584,_0x48fc2c,this['tw'],this['td'],this['th'],_0x3876de,this['animations']);return this[_0x34b4be(0x1d6)]['x1']=Math[_0x34b4be(0x252)](this['bounds']['x1'],_0x379846[_0x34b4be(0x1f8)]),this[_0x34b4be(0x1d6)]['x2']=Math['max'](this[_0x34b4be(0x1d6)]['x2'],_0x379846[_0x34b4be(0x1f8)]),this['bounds']['y2']=Math['max'](this[_0x34b4be(0x1d6)]['y2'],_0x379846[_0x34b4be(0x264)]-this['td']),_0x379846;})),this['sorted']={},this[_0x1b6d15(0x276)]['X']=[]['concat'](...this['layout'])['sort']((_0x3d564f,_0xad1f75)=>_0x3d564f['x']-_0xad1f75['x']?_0x3d564f['x']-_0xad1f75['x']:_0x3d564f['y']-_0xad1f75['y']),this[_0x1b6d15(0x276)]['Y']=[]['concat'](...this[_0x1b6d15(0x1f0)])[_0x1b6d15(0x246)]((_0x12f8ac,_0x296579)=>_0x12f8ac['y']-_0x296579['y']?_0x12f8ac['y']-_0x296579['y']:_0x12f8ac['x']-_0x296579['x']),this['method']='X';}get['iw'](){const _0x21ff6b=_0x289279;return this[_0x21ff6b(0x255)]['iw'];}get['ih'](){return this['asset']['ih'];}get['sw'](){const _0x74a935=_0x289279;return this[_0x74a935(0x255)]['sw'];}get['sh'](){const _0x3cfdbf=_0x289279;return this[_0x3cfdbf(0x255)]['sh'];}get['tw'](){return Area['tw'];}get['th'](){return Area['th'];}get['td'](){return Area['td'];}async[_0x289279(0x24f)](){const _0x46efc4=_0x289279;return this[_0x46efc4(0x255)][_0x46efc4(0x289)]();}}Area[_0x289279(0x181)]={},Area['tw']=0x20,Area['th']=0x8,Area['td']=0x10,Area[_0x289279(0x16f)]=async function(){const _0x5deda5=_0x289279;if(null!==Area['data'])return Promise[_0x5deda5(0x287)]();},Area[_0x289279(0x20e)]=function(_0x36f02e,_0x15378f){const _0x5af61a=_0x289279;_0x36f02e[_0x5af61a(0x276)][_0x36f02e['method']][_0x5af61a(0x257)](_0x1304a1=>_0x1304a1['update'](_0x15378f,_0x36f02e[_0x5af61a(0x22a)]));},Area[_0x289279(0x207)]=function(_0x3fe484,_0x2dd9b9,_0x34cafe,_0x53cfea,_0x127501){const _0x278c6f=_0x289279,_0x188a95=_0x2dd9b9['x'],_0xba68f7=_0x2dd9b9['y'],_0x329e43=_0x3fe484['tw'],_0x49423b=_0x3fe484['td'],_0xa44019=_0x3fe484['th'],_0x3e955a=_0x3fe484['sw'],_0x18ddf7=_0x3fe484['sh'],_0x538e3b=_0x3fe484['iw'];let _0x404e7d=0x0,_0x1e7cf9=0x0;_0x2dd9b9[_0x278c6f(0x1b9)][_0x278c6f(0x257)]((_0x2c3c5e,_0x102fb8)=>{const _0x30f0a3=_0x278c6f;if(-0x1!==_0x2c3c5e[_0x30f0a3(0x219)]){_0x404e7d+=_0x2c3c5e['ox'],_0x1e7cf9+=_0x2c3c5e['oy'];const _0x75dd8b=_0x34cafe['posX']-((_0x188a95-_0xba68f7)*(_0x329e43/0x2)+_0x404e7d)*_0x127501,_0x230d59=_0x34cafe[_0x30f0a3(0x264)]+((_0x188a95+_0xba68f7)*(_0x49423b/0x2)-_0xa44019*_0x102fb8+_0x1e7cf9)*_0x127501;_0x53cfea[_0x30f0a3(0x1a6)](),_0x53cfea[_0x30f0a3(0x17f)](_0x75dd8b,_0x230d59),_0x53cfea[_0x30f0a3(0x220)](_0x3fe484[_0x30f0a3(0x255)][_0x30f0a3(0x186)],_0x2c3c5e[_0x30f0a3(0x243)]*_0x3e955a%_0x538e3b,Math['floor'](_0x2c3c5e[_0x30f0a3(0x243)]*_0x3e955a/_0x538e3b)*_0x18ddf7,_0x329e43,_0xa44019+_0x49423b,0x0,0x0,_0x329e43*_0x127501,_0x127501*(_0xa44019+_0x49423b)),_0x53cfea[_0x30f0a3(0x21f)]();}});},Area[_0x289279(0x181)][_0x289279(0x17b)]={'id':_0x289279(0x17b),'configuration':{'width':0x20,'height':0x20},'animations':{'-1':{'name':_0x289279(0x18a),'idx':-0x1,'oy':0x8,'unreachable':!0x0},0x0:{'name':_0x289279(0x17a),'idx':-0x1,'isHazard':!0x0},0x1:{'name':_0x289279(0x1a5),'idx':0x0,'oy':0x3},0x2:{'name':_0x289279(0x1fa),'idx':0xa},0x3:{'name':_0x289279(0x1c7),'idx':0x15,'isWater':!0x0,'oy':0x7},0x4:{'name':_0x289279(0x1a5),'idx':0x0},0x5:{'name':_0x289279(0x1a2),'idx':0xf},0x6:{'name':_0x289279(0x1a7),'idx':0x10},0x7:{'name':_0x289279(0x171),'idx':0x11},0xb:{'name':'Stone\x20Water','idx':0x14,'isWater':!0x0,'oy':0x7},0x15:{'name':'Stone','idx':0x1e},0x16:{'name':_0x289279(0x16a),'idx':0x23},0x17:{'name':_0x289279(0x214),'idx':0x24},0x18:{'name':'Stone\x204','idx':0x25},0x19:{'name':_0x289279(0x165),'idx':0x26}}};class Asset{constructor(_0x20d56b,_0x685ccc,_0x204643){const _0x1c3b90=_0x289279;this['id']=_0x20d56b,this[_0x1c3b90(0x278)]=_0x685ccc,this[_0x1c3b90(0x166)]=_0x204643,this[_0x1c3b90(0x186)]=null,Asset[_0x1c3b90(0x1a3)][_0x685ccc+_0x20d56b]=this;}get['iw'](){const _0x29f6dd=_0x289279;return this['img'][_0x29f6dd(0x1e4)];}get['ih'](){const _0x4a1311=_0x289279;return this[_0x4a1311(0x186)]['height'];}get['sw'](){const _0x429e38=_0x289279;return this['configuration'][_0x429e38(0x1e4)];}get['sh'](){const _0x2efe8e=_0x289279;return this[_0x2efe8e(0x166)]['height'];}async[_0x289279(0x289)](){const _0x416c36=_0x289279;if(null!==this[_0x416c36(0x186)])return Promise[_0x416c36(0x287)]();return new Promise(_0x82bcaa=>{const _0x5c5267=_0x416c36;this[_0x5c5267(0x186)]=new Image(),this[_0x5c5267(0x186)]['onload']=_0x82bcaa,this['img'][_0x5c5267(0x270)]=''+ASSET_DIR+OS_FILE_SEPARATOR+this[_0x5c5267(0x278)]+OS_FILE_SEPARATOR+this['id']+'.png';});}}Asset[_0x289279(0x1a3)]={},Asset['create']=function(_0x319281,_0x24b2a3,_0x13ee4a){const _0x23d5a8=_0x289279,_0xb448ef=Asset[_0x23d5a8(0x1a3)][_0x24b2a3+_0x319281];return void 0x0===_0xb448ef?new this(_0x319281,_0x24b2a3,_0x13ee4a):_0xb448ef;};class Decorations{constructor(_0x3c06c9,_0x396d1c){const _0xce7bcc=_0x289279;this['id']=_0x3c06c9,this[_0xce7bcc(0x255)]=Asset[_0xce7bcc(0x254)](this['id'],_0xce7bcc(0x159),Decorations['data'][_0x3c06c9][_0xce7bcc(0x166)]),this[_0xce7bcc(0x22a)]=Decorations[_0xce7bcc(0x181)][_0x3c06c9]['animations'],this[_0xce7bcc(0x1f0)]=_0x396d1c['layout']['map'](_0x7833d7=>_0x7833d7['map'](_0x4db405=>[]['concat'](_0x4db405)[_0xce7bcc(0x256)](_0x1dd659=>new Tile(this[_0xce7bcc(0x22a)][_0x1dd659])))),this[_0xce7bcc(0x1b9)]=[][_0xce7bcc(0x1a1)](...this['layout']);}get['iw'](){return this['asset']['iw'];}get['ih'](){return this['asset']['ih'];}get['sw'](){return this['asset']['sw'];}get['sh'](){const _0x23a9bd=_0x289279;return this[_0x23a9bd(0x255)]['sh'];}get['tw'](){return Area['tw'];}get['th'](){return Area['th'];}get['td'](){return Area['td'];}async[_0x289279(0x24f)](){const _0x390c3d=_0x289279;return this['asset'][_0x390c3d(0x289)]();}}Decorations[_0x289279(0x181)]={},Decorations[_0x289279(0x16f)]=async function(){const _0x15da78=_0x289279;if(null!==Decorations[_0x15da78(0x181)])return Promise[_0x15da78(0x287)]();},Decorations[_0x289279(0x20e)]=function(_0x512825,_0x4803e8){const _0x5dfe98=_0x289279;_0x512825[_0x5dfe98(0x1b9)][_0x5dfe98(0x257)](_0x2abf17=>{const _0x3e5e30=_0x5dfe98;_0x2abf17[_0x3e5e30(0x257)]((_0x362d5f,_0x27d9ad)=>{const _0x5f59d0=_0x3e5e30;if(_0x362d5f['isAnimated'])for(_0x362d5f['ms']+=_0x4803e8;_0x362d5f['ms']>_0x362d5f[_0x5f59d0(0x250)][_0x362d5f['no']]['ms'];){if(_0x362d5f['ms']-=_0x362d5f[_0x5f59d0(0x250)][_0x362d5f['no']]['ms'],void 0x0!==_0x362d5f['frames'][_0x362d5f['no']]['next'])return _0x2abf17[_0x27d9ad]=_0x362d5f=new Tile(_0x512825['animations'][_0x362d5f[_0x5f59d0(0x250)][_0x362d5f['no']][_0x5f59d0(0x240)]],_0x362d5f['ms']);_0x362d5f['no']+=(_0x362d5f['no']+0x1)%_0x362d5f['frames']['length'];}});});},Decorations[_0x289279(0x207)]=function(_0x50c047,_0x4fe7ac,_0x405776,_0x27713e,_0x4f2341){const _0x2795f=_0x289279,_0x5b3c7b=_0x50c047[_0x2795f(0x1f0)][_0x4fe7ac['x']][_0x4fe7ac['y']],_0x4db582=_0x50c047['tw'],_0x390cdf=_0x50c047['td'],_0xf9b898=_0x50c047['th'],_0x1bb722=_0x50c047['sw'],_0x3dbdce=_0x50c047['sh'],_0x5cae75=_0x50c047['iw'];_0x5b3c7b[_0x2795f(0x257)]((_0x3f7c46,_0x42ac43)=>{const _0x29a514=_0x2795f;if(-0x1!==_0x3f7c46[_0x29a514(0x219)]){const _0x295f17=_0x405776['posX']+(_0x4fe7ac['posX']-_0x1bb722+_0x4db582+_0x3f7c46['ox'])*_0x4f2341,_0x1407d9=_0x405776[_0x29a514(0x264)]+(_0x4fe7ac[_0x29a514(0x264)]-_0x3dbdce*(_0x42ac43+0x1)+_0xf9b898+_0x390cdf+_0x3f7c46['oy'])*_0x4f2341;_0x27713e[_0x29a514(0x1a6)](),_0x27713e['translate'](_0x295f17,_0x1407d9),_0x27713e[_0x29a514(0x220)](_0x50c047[_0x29a514(0x255)][_0x29a514(0x186)],_0x3f7c46['index']*_0x1bb722%_0x5cae75,Math['floor'](_0x3f7c46[_0x29a514(0x243)]*_0x1bb722/_0x5cae75)*_0x3dbdce,_0x1bb722,_0x3dbdce,0x0,0x0,_0x1bb722*_0x4f2341,_0x3dbdce*_0x4f2341),_0x27713e['restore']();}});},Decorations['data']['woodlands']={'id':_0x289279(0x17b),'configuration':{'width':0x20,'height':0x30},'animations':{0x0:{'name':'Empty','idx':-0x1},0x1:{'name':_0x289279(0x1a5),'idx':0x0},0x2:{'name':_0x289279(0x285),'idx':0x1},0xb:{'name':_0x289279(0x18e),'idx':0xa},0xc:{'name':_0x289279(0x191),'idx':0xb},0xd:{'name':_0x289279(0x15d),'idx':0xc},0xe:{'name':'Water\x20-\x20Break\x20NorthWest','idx':0xd},0x15:{'name':_0x289279(0x16b),'idx':0x2},0x16:{'name':'Rug\x20-\x20Top\x20Right','idx':0x3},0x17:{'name':'Rug\x20-\x20Bottom\x20Left','idx':0x4},0x18:{'name':_0x289279(0x1c4),'idx':0x5},0x1f:{'name':'Trunk','idx':0x14},0x20:{'name':_0x289279(0x277),'idx':0x15},0x21:{'name':_0x289279(0x161),'idx':0x16},0x22:{'name':_0x289279(0x1b6),'idx':0x17}}};class Location{constructor(_0x4e0118,_0x55e1bc,_0x2d0202,_0x1e3057,_0x59c0ee,_0x12aac9,_0x1851f2){const _0x2e1e2a=_0x289279;this['x']=_0x4e0118,this['y']=_0x55e1bc,this['tw']=_0x2d0202,this['td']=_0x1e3057,this['th']=_0x59c0ee,this[_0x2e1e2a(0x1b9)]=[][_0x2e1e2a(0x1a1)](_0x12aac9)[_0x2e1e2a(0x256)](_0x3c32ed=>new Tile(_0x1851f2[_0x3c32ed]));}get[_0x289279(0x201)](){const _0x3f6877=_0x289279;return this['tiles'][this['tiles'][_0x3f6877(0x198)]-0x1];}get['z'](){const _0x496262=_0x289279;return this[_0x496262(0x1b9)][_0x496262(0x198)];}get['ox'](){const _0xad7db7=_0x289279;let _0x186467=0x0;return this[_0xad7db7(0x1b9)][_0xad7db7(0x257)](_0x84e3b7=>_0x186467+=_0x84e3b7['ox']),_0x186467;}get['oy'](){let _0x4a4b0e=0x0;return this['tiles']['forEach'](_0x4b04df=>_0x4a4b0e+=_0x4b04df['oy']),_0x4a4b0e;}get[_0x289279(0x1f8)](){return this['y']*(this['tw']/0x2)-this['x']*(this['tw']/0x2)+this['ox'];}get['posY'](){return this['y']*(this['td']/0x2)+this['x']*(this['td']/0x2)+this['oy']-(this['z']-0x1)*this['th'];}get[_0x289279(0x19f)](){const _0x59792b=_0x289279;return this[_0x59792b(0x201)][_0x59792b(0x19f)];}get[_0x289279(0x1c8)](){const _0x391cfb=_0x289279;return this[_0x391cfb(0x201)]['isSloped'];}get[_0x289279(0x292)](){const _0x137eb9=_0x289279;return this[_0x137eb9(0x201)][_0x137eb9(0x292)];}get['isHazard'](){const _0x298069=_0x289279;return this[_0x298069(0x201)][_0x298069(0x1f9)];}get[_0x289279(0x22f)](){const _0x2a81d6=_0x289279;return this['surface'][_0x2a81d6(0x22f)];}[_0x289279(0x20e)](_0x3ac896,_0x48ba76){const _0x5db1d0=_0x289279;this[_0x5db1d0(0x1b9)][_0x5db1d0(0x257)]((_0x13db3e,_0x15b957)=>{const _0x18e585=_0x5db1d0;if(_0x13db3e[_0x18e585(0x209)])for(_0x13db3e['ms']+=_0x3ac896;_0x13db3e['ms']>_0x13db3e['frames'][tile['no']]['ms'];){if(_0x13db3e['ms']-=_0x13db3e[_0x18e585(0x250)][tile['no']]['ms'],void 0x0!==_0x13db3e[_0x18e585(0x250)][tile['no']][_0x18e585(0x240)])return this[_0x18e585(0x1b9)][_0x15b957]=_0x13db3e=new Tile(_0x48ba76[tile[_0x18e585(0x250)][tile['no']]['next']],tile['ms']);_0x13db3e['no']+=(_0x13db3e['no']+0x1)%_0x13db3e[_0x18e585(0x250)][_0x18e585(0x198)];}});}}class Scenario{constructor(_0x39b6c2){const _0x1c6bea=_0x289279;this['id']=_0x39b6c2,this[_0x1c6bea(0x1f7)]=Scenario[_0x1c6bea(0x181)][_0x39b6c2][_0x1c6bea(0x1f7)],this['area']=new Area(Scenario[_0x1c6bea(0x181)][_0x39b6c2][_0x1c6bea(0x1b8)]['id'],{'layout':Scenario['data'][_0x39b6c2][_0x1c6bea(0x1b8)][_0x1c6bea(0x1b9)]}),this[_0x1c6bea(0x159)]=new Decorations(Scenario[_0x1c6bea(0x181)][_0x39b6c2][_0x1c6bea(0x159)]['id'],{'layout':Scenario[_0x1c6bea(0x181)][_0x39b6c2][_0x1c6bea(0x159)][_0x1c6bea(0x1b9)]}),this['units']=[]['concat'](Scenario[_0x1c6bea(0x181)][_0x39b6c2][_0x1c6bea(0x212)])[_0x1c6bea(0x256)](_0x263ebf=>new Unit(_0x263ebf['id']));}async[_0x289279(0x24f)](){const _0x1604a1=_0x289279;await Promise[_0x1604a1(0x291)]([this['area']['prepare'](),this['decorations'][_0x1604a1(0x24f)]()]);}}Scenario['data']={},Scenario[_0x289279(0x16f)]=function(){const _0x40ffbd=_0x289279;if(null!==Scenario[_0x40ffbd(0x181)])return Promise['resolve']();},Scenario[_0x289279(0x181)][_0x289279(0x25e)]={'id':'ruins','name':'Forest\x20Ruins','area':{'id':'woodlands','tiles':[[0x1,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,[0x18,0x18],[0x17,0x17],0x17,0x17,0x1,0x1],[0x1,0x16,0xb,0xb,0x16,0x1,0x1],[0x1,0x16,0xb,0xb,0x16,0x1,0x1],[0x1,0x16,[0x17,0x18],0x17,0x19,0x1,0x1],[[0x1,0x19],0x1,0x16,0x19,0x15,[0x15,0x18],0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x1]]},'decorations':{'id':_0x289279(0x17b),'tiles':[[0x0,0x0,0x2,0x1,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x15,0x17,0x1],[0x0,0x0,0xe,0xd,0x16,0x18,0x0],[0x0,0x0,0xc,0xb,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x2,0x0],[0x0,0x2,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0]]},'units':[{'id':_0x289279(0x199),'x':0x1,'y':0x1,'orientation':_0x289279(0x1ac)}]},Scenario[_0x289279(0x181)][_0x289279(0x1c1)]={'id':_0x289279(0x1c1),'name':_0x289279(0x247),'area':{'id':_0x289279(0x17b),'tiles':[[0x0,0x0,0x4,0x4,0x4,0x4,0x4],[0x4,0x4,0x4,0x4,0x4,[0x1,0x15],0x2],[0x4,0x4,0x3,0x3,0x3,0x5,0x2],[0x4,0x3,0x3,0x3,0x3,0x3,0x5,0x2],[0x4,0x3,0x3,0x3,0x3,0x3,0x3,0x5],[0x4,0x3,0x3,0x3,0x3,0x3,0x3,0x5],[0x4,0x3,0x3,0x3,0x3,0x7,0x6,0x2],[0x4,0x4,0x4,0x6,0x6,0x2,0x2],[0x0,0x0,0x4,0x4,0x4,0x4,0x0]]},'decorations':{'id':_0x289279(0x17b),'tiles':[[0x0,0x0,0x0,0x0,0x2,0x2,0x0],[0x0,0x0,0x0,0x0,0x1,0x0,0x0],[0x0,0x2,0xe,0xd,0xd,0x1,0x0],[0x0,0xe,0xb,0xb,0xb,0xd,0x0,0x0],[0x0,0xc,0xb,0xb,0xb,0xb,0xd,0x0],[0x0,0xc,0xb,0xb,0xb,0xb,0xb,0x0],[0x0,0xc,0xb,0xb,0xb,0x0,0x1,0x0],[0x0,0x0,0x2,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x0,0x0,0x0]]},'units':[{'id':_0x289279(0x199),'x':0x1,'y':0x1,'orientation':_0x289279(0x1ac)}]};class Tile{constructor(_0x1545a9,_0x3d53ba=0x0){const _0x41d334=_0x289279;this[_0x41d334(0x219)]=~~_0x1545a9[_0x41d334(0x219)],this[_0x41d334(0x221)]=~~_0x1545a9['ox'],this[_0x41d334(0x23d)]=~~_0x1545a9['oy'],this['isAnimated']=_0x1545a9[_0x41d334(0x21c)](_0x41d334(0x250)),this[_0x41d334(0x209)]&&(this[_0x41d334(0x250)]=_0x1545a9[_0x41d334(0x250)],this['no']=0x0,this[_0x41d334(0x19c)]=0x1,this['ms']=_0x3d53ba+-0x1*~~_0x1545a9[_0x41d334(0x224)],this[_0x41d334(0x1f1)]=0x0),this['isWater']=!!_0x1545a9['isWater'],this['isHazard']=!!_0x1545a9[_0x41d334(0x1f9)],this[_0x41d334(0x22f)]=!!_0x1545a9[_0x41d334(0x22f)],this[_0x41d334(0x1c8)]=!!_0x1545a9[_0x41d334(0x1c8)],this[_0x41d334(0x19f)]=_0x1545a9['orientation']||_0x41d334(0x283);}get[_0x289279(0x243)](){const _0x449352=_0x289279;return this[_0x449352(0x209)]?this[_0x449352(0x250)][this['no']][_0x449352(0x219)]:this[_0x449352(0x219)];}get['ox'](){const _0x2b7052=_0x289279;return this['aox']+~~this[_0x2b7052(0x250)]?.[this['no']]?.['ox'];}get['oy'](){const _0x26f68f=_0x289279;return this[_0x26f68f(0x23d)]+~~this[_0x26f68f(0x250)]?.[this['no']]?.['oy'];}}class Unit{constructor(_0x123fd2){const _0x11fe43=_0x289279;this['id']=_0x123fd2,this[_0x11fe43(0x22a)]=Unit[_0x11fe43(0x181)][_0x123fd2][_0x11fe43(0x22a)],this['asset']=Asset[_0x11fe43(0x254)](this['id'],_0x11fe43(0x279),Unit['data'][_0x123fd2][_0x11fe43(0x166)]);}async['load'](){const _0x46aa71=_0x289279;await this[_0x46aa71(0x255)][_0x46aa71(0x289)]();}async[_0x289279(0x204)](){}}Unit['data']={},Unit[_0x289279(0x16f)]=function(){const _0x40edd4=_0x289279;if(null!==Unit[_0x40edd4(0x181)])return Promise[_0x40edd4(0x287)]();},Unit[_0x289279(0x181)][_0x289279(0x1f2)]={'id':'player','src':_0x289279(0x275),'sprite':{'height':0x30,'width':0x20},'animations':{'idle':{'east':{'frames':[{'idx':0x2,'ms':0x7d},{'idx':0x1,'ms':0xfa},{'idx':0x2,'ms':0x7d}],'variation':[{'idx':0x3,'ms':0x7d},{'idx':0x4,'ms':0xfa},{'idx':0x3,'ms':0x7d}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x2,'ms':0x7d},{'idx':0x1,'ms':0xfa},{'idx':0x2,'ms':0x7d}],'variation':[{'idx':0x3,'ms':0x7d},{'idx':0x4,'ms':0xfa},{'idx':0x3,'ms':0x7d}]},'west':{'frames':[{'idx':0x7,'ms':0x7d},{'idx':0x6,'ms':0xfa},{'idx':0x7,'ms':0x7d}],'variation':[{'idx':0x8,'ms':0x7d},{'idx':0x9,'ms':0xfa},{'idx':0x8,'ms':0x7d}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x7,'ms':0x7d},{'idx':0x6,'ms':0xfa},{'idx':0x7,'ms':0x7d}],'variation':[{'idx':0x8,'ms':0x7d},{'idx':0x9,'ms':0xfa},{'idx':0x8,'ms':0x7d}]}},'walk':{'east':{'frames':[{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x1,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x4,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x1,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x4,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]},'west':{'frames':[{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x6,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x9,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x6,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x9,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]}},'jump-up':{'east':{'frames':[{'idx':0xa,'ms':0xfa,'zmult':!0x0},{'idx':0xb,'ms':0x64,'px':0.3,'pz':0x1},{'idx':0xb,'ms':0x64,'px':0.2},{'idx':0xb,'ms':0x32,'px':0.1},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.25},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.75},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0xfa,'zmult':!0x0},{'idx':0xb,'ms':0x64,'px':0.3,'pz':0x1},{'idx':0xb,'ms':0x64,'px':0.2},{'idx':0xb,'ms':0x32,'px':0.1},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.25},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.75},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'west':{'frames':[{'idx':0xc,'ms':0xfa,'zmult':!0x0},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.6,'pz':0x1,'inty':-0x1},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.4,'inty':-0x2},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x4},{'idx':0xd,'ms':0x64,'px':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0xc,'ms':0xfa,'zmult':!0x0},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.6,'pz':0x1,'inty':-0x1},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.4,'inty':-0x2},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x4},{'idx':0xd,'ms':0x64,'px':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]}},'jump-down':{'east':{'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x2},{'idx':0xb,'ms':0x64,'px':0.2,'inty':-0x1,'py':0.4},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.6,'pz':0x1},{'idx':0xa,'ms':0xfa},{'idx':0x3,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x2},{'idx':0xb,'ms':0x64,'px':0.2,'inty':-0x1,'py':0.4},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.6,'pz':0x1},{'idx':0xa,'ms':0xfa},{'idx':0x3,'ms':0xfa}]},'west':{'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x3},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x6},{'idx':0xd,'ms':0x64,'px':0.3,'inty':-0x7},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x7,'pz':0.1},{'idx':0xd,'ms':0x32,'px':0.1,'inty':-0x4,'py':0.4,'pz':0.4},{'idx':0xd,'ms':0x32,'py':0.6,'pz':0.5},{'idx':0xc,'ms':0xfa},{'idx':0x8,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x3},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x6},{'idx':0xd,'ms':0x64,'px':0.3,'inty':-0x7},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x7,'pz':0.1},{'idx':0xd,'ms':0x32,'px':0.1,'inty':-0x4,'py':0.4,'pz':0.4},{'idx':0xd,'ms':0x32,'py':0.6,'pz':0.5},{'idx':0xc,'ms':0xfa},{'idx':0x8,'ms':0xfa}]}},'leap':{'east':{'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x32,'inty':-0x3},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x32,'inty':-0x3},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'west':{'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'inty':-0x3},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'inty':-0x3},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]}},'slash':{'east':{'frames':[{'idx':0x1e,'ms':0xfa},{'idx':0x1f,'ms':0x15e,'event':_0x289279(0x1a0)},{'idx':0x20,'ms':0xc8}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1e,'ms':0xfa},{'idx':0x1f,'ms':0x15e,'event':_0x289279(0x1a0)},{'idx':0x20,'ms':0xc8}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'pierce':{'east':{'frames':[{'idx':0x14,'ms':0x1f4},{'idx':0x15,'ms':0x32,'event':_0x289279(0x1a0)},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x14,'ms':0x1f4},{'idx':0x15,'ms':0x32,'event':'hit'},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'punch':{'east':{'frames':[{'idx':0x15,'ms':0x32,'event':'hit'},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x14,'ms':0x64},{'idx':0x15,'ms':0x32,'event':_0x289279(0x1a0)},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'slash':{'east':{'mirrored':!0x0,'frames':[{'idx':0x1e,'ms':0x3e8,'intx':0x8,'inty':-0x4,'event':'hit'},{'idx':0x1f,'ms':0x3e8,'intx':0x10,'inty':-0x8},{'idx':0x20,'ms':0x3e8,'intx':0x0,'inty':0x0}]},'south':{'frames':[{'idx':0x1e,'ms':0x28,'intx':0x2,'inty':-0x1},{'idx':0x1e,'ms':0x28,'intx':0x3,'inty':-0x1},{'idx':0x1e,'ms':0x28,'intx':0x4,'inty':-0x2},{'idx':0x1f,'ms':0x32,'intx':0x5,'inty':-0x2},{'idx':0x1f,'ms':0x32,'intx':0x6,'inty':-0x3},{'idx':0x1f,'ms':0x32,'intx':0x7,'inty':-0x3},{'idx':0x1f,'ms':0x190,'intx':0x8,'inty':-0x4},{'idx':0x1e,'ms':0xf,'intx':0x7,'inty':-0x4},{'idx':0x1e,'ms':0xf,'intx':0x6,'inty':-0x3},{'idx':0x1e,'ms':0xf,'intx':0x5,'inty':-0x3},{'idx':0x1e,'ms':0x14,'intx':0x4,'inty':-0x2},{'idx':0x1e,'ms':0x14,'intx':0x3,'inty':-0x2},{'idx':0x1e,'ms':0x14,'intx':0x2,'inty':-0x1},{'idx':0x20,'ms':0x32,'intx':0x2,'inty':-0x1,'event':_0x289279(0x1a0)},{'idx':0x21,'ms':0x1f4,'intx':0x2,'inty':-0x1},{'idx':0x20,'ms':0x32,'intx':0x0,'inty':0x0}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'slash-reverse':{'east':{'mirrored':!0x0,'frames':[]},'south':{'frames':[{'idx':0x21,'ms':0x12c,'ox':0x2,'oy':-0x1},{'idx':0x20,'ms':0x19,'ox':0x1,'oy':-0x1,'event':'hit'},{'idx':0x20,'ms':0x19,'ox':0x0,'oy':0x0},{'idx':0x1e,'ms':0x14},{'idx':0x1e,'ms':0x14},{'idx':0x1e,'ms':0x14},{'idx':0x1f,'ms':0x190},{'idx':0x1e,'ms':0x28}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'leap-slash':{'east':{'mirrored':!0x0,'frames':[]},'south':{'frames':[{'idx':0x28,'ms':0x12c},{'idx':0x29,'ms':0x1f4},{'idx':0x2a,'ms':0x32},{'idx':0x2b,'ms':0x46,'inty':-0x5,'px':0.66,'py':0x0,'pz':0.5,'xmult':!0x0},{'idx':0x2b,'ms':0x32,'inty':0x0,'px':0.34,'py':0x1,'pz':0.5,'event':_0x289279(0x1a0),'xmult':!0x0},{'idx':0x2c,'ms':0x32},{'idx':0x20,'ms':0x190}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'dash':{'east':{'frames':[{'idx':0x1,'ms':0x32,'px':0x1,'py':0x1}]},'south':{'frames':[{'idx':0x21,'ms':0xfa,'px':0x1,'py':0x1}]},'west':{'frames':[{'idx':0x6,'ms':0x8c,'px':0x1,'py':0x1}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x6,'ms':0x8c,'px':0x1,'py':0x1}]}},'anime':{'south':{'frames':[{'idx':0x21,'ms':0x7d0,'event':_0x289279(0x1a0)},{'idx':0x22,'ms':0x64}]}},'brace':{'east':{'frames':[{'idx':0xa,'ms':0x3e8,'px':0x1,'py':0x1}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x3e8,'px':0x1,'py':0x1}]},'west':{'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]}},'crouch':{'east':{'frames':[{'idx':0xa,'ms':0x3e8}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x3e8}]},'west':{'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]}}}},Unit[_0x289279(0x181)][_0x289279(0x199)]={'id':_0x289279(0x199),'src':_0x289279(0x21d),'sprite':{'height':0x30,'width':0x20},'animations':{'idle':{'east':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]},'south':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]},'west':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]},'north':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]}},'walk':{'east':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]},'south':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]},'west':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]},'north':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]}},'jump-up':{'east':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]},'west':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]}},'jump-down':{'east':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]},'west':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]}},'stagger':{'east':{'frames':[{'idx':0x1,'ms':0x78,'intx':-0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x78,'intx':0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x32,'intx':-0x1,'px':0.5,'py':0.5},{'idx':0x1,'ms':0x32,'intx':0x1,'px':0.5,'py':0.5},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]},'west':{'frames':[{'idx':0x1,'ms':0x32,'intx':-0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x32,'intx':0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x32,'intx':-0x1,'px':0.5,'py':0.5,'xmult':!0x0},{'idx':0x1,'ms':0x32,'intx':0x1,'px':0.5,'py':0.5,'xmult':!0x0},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]}}}},Unit[_0x289279(0x181)][_0x289279(0x179)]={'id':_0x289279(0x179),'src':_0x289279(0x162),'sprite':{'height':0x30,'width':0x20},'animations':{'idle':{'east':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]},'south':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]},'west':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]},'north':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]}},'move':{'movement':!0x0,'frames':[{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0}]},'jump':{'movement':!0x0,'frames':[{'idx':0x3,'ms':0xc8,'p':0.5,'zu':0x1},{'idx':0x4,'ms':0xc8,'p':0.5,'zd':0x1}]},'defend':{'frames':[{'idx':0x0,'ms':0x3e8},{'idx':0x1,'ms':0x12c},{'idx':0x0,'ms':0x190},{'idx':0x1,'ms':0x64},{'idx':0x4,'ms':0xc8}]},'intro':{'frames':[{'idx':0x0,'ms':0x7d0},{'idx':0x1,'ms':0x3e8},{'idx':0x0,'ms':0x12c},{'idx':0x1,'ms':0x1f4},{'idx':0x2,'ms':0x96},{'idx':0x3,'ms':0x96},{'idx':0x5,'ms':0xbb8}]}}};class CombatController{constructor(){const _0x54c7dc=_0x289279;this['scenario']=null,this[_0x54c7dc(0x25f)]=null;}get[_0x289279(0x1b8)](){const _0x42dc5e=_0x289279;return this[_0x42dc5e(0x241)][_0x42dc5e(0x1b8)];}get[_0x289279(0x212)](){const _0x5aae77=_0x289279;return this[_0x5aae77(0x241)][_0x5aae77(0x212)];}get[_0x289279(0x159)](){const _0x5d6830=_0x289279;return this['scenario'][_0x5d6830(0x159)];}async[_0x289279(0x16f)](){const _0x12b3ef=_0x289279;return Promise[_0x12b3ef(0x287)]();}async['prepare'](_0x546d30){const _0x2b1597=_0x289279;this[_0x2b1597(0x25f)]=new Scenario(_0x546d30),await this[_0x2b1597(0x25f)]['prepare']();}[_0x289279(0x1b1)](){const _0x3c0ed4=_0x289279;this['scenario']=this['preload'],Game[_0x3c0ed4(0x23f)][_0x3c0ed4(0x1af)](this[_0x3c0ed4(0x1b8)]),Game['camera'][_0x3c0ed4(0x18b)](Game['canvas'],this[_0x3c0ed4(0x1b8)]);}[_0x289279(0x207)](_0x56e6a1){const _0x3aee40=_0x289279;Area[_0x3aee40(0x20e)](this[_0x3aee40(0x1b8)],_0x56e6a1),Decorations[_0x3aee40(0x20e)](this['decorations'],_0x56e6a1),this[_0x3aee40(0x1b8)][_0x3aee40(0x276)][this[_0x3aee40(0x1b8)]['method']][_0x3aee40(0x257)](_0x4e3d11=>{const _0xca8858=_0x3aee40;Area[_0xca8858(0x207)](this[_0xca8858(0x1b8)],_0x4e3d11,Game[_0xca8858(0x23f)],Game[_0xca8858(0x1c0)],Game[_0xca8858(0x1f4)]),Decorations['render'](this['decorations'],_0x4e3d11,Game[_0xca8858(0x23f)],Game[_0xca8858(0x1c0)],Game[_0xca8858(0x1f4)]);});}['onMouseMove'](_0x3038f9){const _0x277e94=_0x289279;Game['camera'][_0x277e94(0x21a)]?(Game[_0x277e94(0x23f)][_0x277e94(0x20f)]=_0x3038f9['x'],Game[_0x277e94(0x23f)]['dragCurrentY']=_0x3038f9['y']):0x1e>_0x3038f9['x']||_0x3038f9['x']>Game[_0x277e94(0x23f)]['window']['x']-0x1e||0x14>_0x3038f9['y']||_0x3038f9['y']>Game[_0x277e94(0x23f)][_0x277e94(0x228)]['y']-0x14?(Game['camera'][_0x277e94(0x192)]=!0x0,Game[_0x277e94(0x23f)]['xPanAngle']=0x2*((_0x3038f9['x']-Game[_0x277e94(0x23f)][_0x277e94(0x228)]['x']/0x2)/Game['camera'][_0x277e94(0x228)]['x']),Game[_0x277e94(0x23f)][_0x277e94(0x25c)]=0x2*((_0x3038f9['y']-Game[_0x277e94(0x23f)]['window']['y']/0x2)/Game[_0x277e94(0x23f)]['window']['y'])):(Game[_0x277e94(0x23f)][_0x277e94(0x192)]=!0x1,Game[_0x277e94(0x23f)]['panningMs']=0x0,Game['camera'][_0x277e94(0x1ed)]=0x0,Game['camera'][_0x277e94(0x25c)]=0x0);}[_0x289279(0x238)](){const _0x2d4c4e=_0x289279;Game[_0x2d4c4e(0x23f)][_0x2d4c4e(0x192)]=!0x1;}['onMouseWheel'](){}[_0x289279(0x1cf)](){}[_0x289279(0x262)](_0x4a6e6e){const _0x186c60=_0x289279;_0x4a6e6e[_0x186c60(0x26f)]==Game['canvas']&&0x1>=_0x4a6e6e[_0x186c60(0x268)]&&(Game[_0x186c60(0x28a)][_0x186c60(0x1b5)]['toggle'](_0x186c60(0x21a),!0x0),Game[_0x186c60(0x23f)]['dragStartCamPosX']=Game[_0x186c60(0x23f)][_0x186c60(0x26f)]['x'],Game['camera']['dragStartCamPosY']=Game[_0x186c60(0x23f)]['target']['y'],Game[_0x186c60(0x23f)][_0x186c60(0x22d)]=Game[_0x186c60(0x23f)][_0x186c60(0x20f)]=_0x4a6e6e['x'],Game[_0x186c60(0x23f)][_0x186c60(0x253)]=Game[_0x186c60(0x23f)][_0x186c60(0x185)]=_0x4a6e6e['y'],Game[_0x186c60(0x23f)][_0x186c60(0x21a)]=!0x0);}['onMouseUp'](_0x2d4c97){const _0x412cd4=_0x289279;0x1>=_0x2d4c97[_0x412cd4(0x268)]&&(Game[_0x412cd4(0x28a)][_0x412cd4(0x1b5)][_0x412cd4(0x172)](_0x412cd4(0x21a),!0x1),Game[_0x412cd4(0x23f)][_0x412cd4(0x21a)]=!0x1);}['onRightClick'](){}[_0x289279(0x15e)](){}[_0x289279(0x160)](){}}class TitleController{constructor(){}async[_0x289279(0x16f)](){}[_0x289279(0x20e)](){}[_0x289279(0x207)](){}}class TownController{constructor(){}async[_0x289279(0x16f)](){}[_0x289279(0x20e)](){}[_0x289279(0x207)](){}}class WorldController{constructor(){}async[_0x289279(0x16f)](){}[_0x289279(0x20e)](){}[_0x289279(0x207)](){}}