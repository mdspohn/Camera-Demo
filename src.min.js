const _0x19b6=['button','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','dragToggle','.png','player','isHazard','_squaresSetup','opts','167385BpScGO','wasdToggle','setupFn','Engine\x20stopped...','Dirt\x20Water','Rug\x20-\x20Top\x20Left','Dirt','globalAlpha','posY','create','apply','onKeyDown','48812cGSHOh','Trunk','dragStartCamPosY','log','_calculateCameraOffsets','Engine\x20started...','#transition\x20.selected','Grass','checked','deltaMs','slime','panning','load','development-tools','directory','_curtainsSetup','save','Enter','onMouseMove','clearRect','onMouseOut','function','mouseup','allowDragging','change','selected','animations','entries','south','Attack','5119MprBfW','North','bind','pond','asset','exception','aoy','isWater','_resizeCanvas','msTarget','window','contextmenu','object','Wait','6ltBPUK','mousedown','Stone','Water\x20-\x20Break\x20West','area','keys','Water\x20-\x20Break\x20NorthWest','#transition\x20.pseudo-select','filter','initialize','Empty,\x20Unreachable','textContent','dragStartY','_fadeDraw','_use','update','show','Skill','draw','transition-complete','adjustment','selected-transition','isSloped','Rug\x20-\x20Bottom\x20Left','innerHeight','remove','eos','ease-out','data','dispatch','2946sTWNFJ','style','getTriangleArea','Tree\x20Trunk','1ePaimR','fps','length','ceil','round','Escape','Stone\x204','inverse','mimic.png','selectedScenario','getContext','prepare','slime.png','e_stop','fade','fillRect','Water\x20-\x20Break\x20North','substr','allowEdgePanning','scenarioOptWrap','red','console','preload','decorations','random','wheel','selectedTransition','msCurrent','panningMs','fullscreenchange','Dirt\x202','orientation','floor','frame','3OkIIXL','xPanAngle','info','start','all','onClick','onMouseWheel','toCenter','Camera\x20Down','#scenario\x20.pseudo-select','keysDown','forEach','addEventListener','translate','innerWidth','Rug\x20-\x20Bottom\x20Right','split','scenario','#transition\x20.pseudo-select-options','contains','hit','listen','getElementById','drawFn','linear','keydown','bounds','width','method','restore','createElement','surface','then','zoom','click','ArrowDown','name','values','reverse','areas','scenarioSelect','#scenario\x20.selected','controllers','_toPosition','drawCalls','drag','Right','step','msRemaining','isAnimated','allowWASDPanning','mousemove','end','className','508608KbTvjl','Camera\x20Right','Down','Camera\x20Left','map','keyup','dragCurrentY','aox','isPendingResize','green','ctx','206121FyiBDp','selected-scenario','frames','position','Dirt\x203','imageSmoothingEnabled','delta','push','now','abs','xPanBounds','events','tiles','transitionSelect','running','render','RegExp','isProcessingCameraMovement','onKeyUp','e_start','_fadeSetup','resize','slice','Stone\x202','toLocation','test','preventDefault','default','state','img','speed','onMouseUp','camera','onMouseDown','posX','KEYBOARD','dragging','currentArea','scaling','configuration','slopeDimensions','drawImage','squares','concat','min','add','classList','245039wdxTqJ','canvas','DOM','persistent','div','next','woodlands','_squaresDraw','cache','easing','index','sorted','sort','engine','getTile','yPanBounds','actions','target','key','dragStartX','mimic','units','onload','error','eospToggle','idx','undefined','onRightClick','isUnreachable','Empty','ruins','layout','ArrowRight','appendChild','_load','max','stop','height','setPanningBoundaries','toggle','Shift','_curtainsDraw','transitionOptWrap','hasOwnProperty','querySelector','toString','yPanAngle','Move','57YxjpSc','curtains','resolve','dragCurrentX','effects','warn','#fps\x20>\x20span','isProcessingResize','Stone\x20Water','dragStartCamPosX'];const _0x153456=_0x1aab;(function(_0x14d9d8,_0xace6da){const _0x1c71da=_0x1aab;while(!![]){try{const _0x300ac6=-parseInt(_0x1c71da(0x1b7))*-parseInt(_0x1c71da(0x17b))+parseInt(_0x1c71da(0x1c5))*parseInt(_0x1c71da(0x1e3))+parseInt(_0x1c71da(0x18d))+-parseInt(_0x1c71da(0x11c))+-parseInt(_0x1c71da(0x14b))*-parseInt(_0x1c71da(0x1e7))+-parseInt(_0x1c71da(0xdb))*-parseInt(_0x1c71da(0x199))+-parseInt(_0x1c71da(0x111));if(_0x300ac6===_0xace6da)break;else _0x14d9d8['push'](_0x14d9d8['shift']());}catch(_0x7236d5){_0x14d9d8['push'](_0x14d9d8['shift']());}}}(_0x19b6,0x257f6));const _0x5caab5=function(){let _0x3ca5d1=!![];return function(_0x382774,_0x1717fb){const _0x27cca2=_0x3ca5d1?function(){const _0x45c34f=_0x1aab;if(_0x1717fb){const _0x2f79c2=_0x1717fb[_0x45c34f(0x197)](_0x382774,arguments);return _0x1717fb=null,_0x2f79c2;}}:function(){};return _0x3ca5d1=![],_0x27cca2;};}(),_0x31d202=_0x5caab5(this,function(){const _0x32ebeb=_0x1aab,_0x46704b=typeof window!=='undefined'?window:typeof process===_0x32ebeb(0x1c3)&&typeof require==='function'&&typeof global===_0x32ebeb(0x1c3)?global:this,_0x4326cb=function(){const _0x916a12=_0x32ebeb,_0x112086=new _0x46704b[(_0x916a12(0x12c))](_0x916a12(0x186));return!_0x112086[_0x916a12(0x135)](_0x31d202);};return _0x4326cb();});_0x31d202();const _0x4cb5bc=function(){let _0x26c82c=!![];return function(_0x19b1ca,_0x5dce21){const _0x30a8a3=_0x26c82c?function(){const _0x3cde4d=_0x1aab;if(_0x5dce21){const _0x519ee7=_0x5dce21[_0x3cde4d(0x197)](_0x19b1ca,arguments);return _0x5dce21=null,_0x519ee7;}}:function(){};return _0x26c82c=![],_0x30a8a3;};}(),_0x1e5291=_0x4cb5bc(this,function(){const _0x49c2e9=_0x1aab,_0x1722aa=typeof window!==_0x49c2e9(0x165)?window:typeof process===_0x49c2e9(0x1c3)&&typeof require===_0x49c2e9(0x1ae)&&typeof global===_0x49c2e9(0x1c3)?global:this,_0x29435b=_0x1722aa[_0x49c2e9(0xce)]=_0x1722aa[_0x49c2e9(0xce)]||{},_0x4e503e=[_0x49c2e9(0x19c),_0x49c2e9(0x180),_0x49c2e9(0xdd),_0x49c2e9(0x162),_0x49c2e9(0x1bc),'table','trace'];for(let _0x5b2188=0x0;_0x5b2188<_0x4e503e['length'];_0x5b2188++){const _0x216d51=_0x4cb5bc['constructor']['prototype'][_0x49c2e9(0x1b9)](_0x4cb5bc),_0xd547d3=_0x4e503e[_0x5b2188],_0x2b160a=_0x29435b[_0xd547d3]||_0x216d51;_0x216d51['__proto__']=_0x4cb5bc[_0x49c2e9(0x1b9)](_0x4cb5bc),_0x216d51[_0x49c2e9(0x178)]=_0x2b160a['toString'][_0x49c2e9(0x1b9)](_0x2b160a),_0x29435b[_0xd547d3]=_0x216d51;}});_0x1e5291();class Decorations{constructor(_0x5bec50,_0x4645a2){const _0x4e1c37=_0x1aab;this['id']=_0x5bec50,this['asset']=Asset[_0x4e1c37(0x196)](this['id'],_0x4e1c37(0xd0),Decorations[_0x4e1c37(0x1e1)][_0x5bec50]['configuration']),this[_0x4e1c37(0x1b3)]=Decorations[_0x4e1c37(0x1e1)][_0x5bec50][_0x4e1c37(0x1b3)],this[_0x4e1c37(0x16a)]=_0x4645a2[_0x4e1c37(0x16a)]['map'](_0x118726=>_0x118726[_0x4e1c37(0x115)](_0x582afc=>[]['concat'](_0x582afc)['map'](_0x174d9b=>new Tile(this[_0x4e1c37(0x1b3)][_0x174d9b])))),this[_0x4e1c37(0x128)]=[][_0x4e1c37(0x147)](...this[_0x4e1c37(0x16a)]);}get['iw'](){return this['asset']['iw'];}get['ih'](){const _0xd8a669=_0x1aab;return this[_0xd8a669(0x1bb)]['ih'];}get['sw'](){const _0x2a530e=_0x1aab;return this[_0x2a530e(0x1bb)]['sw'];}get['sh'](){const _0x3bed83=_0x1aab;return this[_0x3bed83(0x1bb)]['sh'];}get['tw'](){return Area['tw'];}get['th'](){return Area['th'];}get['td'](){return Area['td'];}async[_0x153456(0xc4)](){const _0x190793=_0x153456;return this[_0x190793(0x1bb)][_0x190793(0x1a5)]();}}Decorations['data']={},Decorations[_0x153456(0x16d)]=async function(){const _0x3ff315=_0x153456;if(null!==Decorations[_0x3ff315(0x1e1)])return Promise['resolve']();},Decorations['update']=function(_0x3d2b65,_0x4a2b95){const _0x236372=_0x153456;_0x3d2b65[_0x236372(0x128)][_0x236372(0xe6)](_0x48d629=>{_0x48d629['forEach']((_0x450ce3,_0x5e8f8a)=>{const _0x5f40ee=_0x1aab;if(_0x450ce3['isAnimated'])for(_0x450ce3['ms']+=_0x4a2b95;_0x450ce3['ms']>_0x450ce3[_0x5f40ee(0x11e)][_0x450ce3['no']]['ms'];){if(_0x450ce3['ms']-=_0x450ce3[_0x5f40ee(0x11e)][_0x450ce3['no']]['ms'],void 0x0!==_0x450ce3['frames'][_0x450ce3['no']][_0x5f40ee(0x150)])return _0x48d629[_0x5e8f8a]=_0x450ce3=new Tile(_0x3d2b65[_0x5f40ee(0x1b3)][_0x450ce3[_0x5f40ee(0x11e)][_0x450ce3['no']][_0x5f40ee(0x150)]],_0x450ce3['ms']);_0x450ce3['no']+=(_0x450ce3['no']+0x1)%_0x450ce3[_0x5f40ee(0x11e)][_0x5f40ee(0x1e9)];}});});},Decorations[_0x153456(0x12b)]=function(_0x24f4c1,_0x573ff5,_0x28737e,_0x2e05f0,_0x5ae2c8){const _0x2d0fbc=_0x153456,_0x2d204b=_0x24f4c1[_0x2d0fbc(0x16a)][_0x573ff5['x']][_0x573ff5['y']],_0x21557e=_0x24f4c1['tw'],_0x560fb2=_0x24f4c1['td'],_0x2e118b=_0x24f4c1['th'],_0x4eaa82=_0x24f4c1['sw'],_0x326235=_0x24f4c1['sh'],_0xb0ea1e=_0x24f4c1['iw'];_0x2d204b[_0x2d0fbc(0xe6)]((_0x2e2833,_0x3e535c)=>{const _0x24ad4a=_0x2d0fbc;if(-0x1!==_0x2e2833[_0x24ad4a(0x164)]){const _0x26984c=_0x28737e[_0x24ad4a(0x13e)]+(_0x573ff5[_0x24ad4a(0x13e)]-_0x4eaa82+_0x21557e+_0x2e2833['ox'])*_0x5ae2c8,_0x568fc2=_0x28737e[_0x24ad4a(0x195)]+(_0x573ff5['posY']-_0x326235*(_0x3e535c+0x1)+_0x2e118b+_0x560fb2+_0x2e2833['oy'])*_0x5ae2c8;_0x2e05f0[_0x24ad4a(0x1a9)](),_0x2e05f0[_0x24ad4a(0xe8)](_0x26984c,_0x568fc2),_0x2e05f0[_0x24ad4a(0x145)](_0x24f4c1[_0x24ad4a(0x1bb)][_0x24ad4a(0x139)],_0x2e2833['index']*_0x4eaa82%_0xb0ea1e,Math[_0x24ad4a(0xd9)](_0x2e2833['index']*_0x4eaa82/_0xb0ea1e)*_0x326235,_0x4eaa82,_0x326235,0x0,0x0,_0x4eaa82*_0x5ae2c8,_0x326235*_0x5ae2c8),_0x2e05f0[_0x24ad4a(0xf8)]();}});},Decorations['data']['woodlands']={'id':'woodlands','configuration':{'width':0x20,'height':0x30},'animations':{0x0:{'name':_0x153456(0x168),'idx':-0x1},0x1:{'name':'Grass','idx':0x0},0x2:{'name':'Heavy\x20Grass','idx':0x1},0xb:{'name':'Water','idx':0xa},0xc:{'name':_0x153456(0x1c8),'idx':0xb},0xd:{'name':_0x153456(0xc9),'idx':0xc},0xe:{'name':_0x153456(0x1cb),'idx':0xd},0x15:{'name':_0x153456(0x192),'idx':0x2},0x16:{'name':'Rug\x20-\x20Top\x20Right','idx':0x3},0x17:{'name':_0x153456(0x1dc),'idx':0x4},0x18:{'name':_0x153456(0xea),'idx':0x5},0x1f:{'name':_0x153456(0x19a),'idx':0x14},0x20:{'name':'Trunk\x202','idx':0x15},0x21:{'name':_0x153456(0x1e6),'idx':0x16},0x22:{'name':'Tree\x20Foliage','idx':0x17}}};class DevTools{constructor(){const _0xd8273b=_0x153456;this['DOM']={},this[_0xd8273b(0x14d)]['tools']=document[_0xd8273b(0xf1)](_0xd8273b(0x1a6)),this[_0xd8273b(0x14d)]['engine']=document[_0xd8273b(0xf1)]('engine'),this[_0xd8273b(0x14d)][_0xd8273b(0x12f)]=document[_0xd8273b(0xf1)](_0xd8273b(0xde)),this[_0xd8273b(0x14d)][_0xd8273b(0xc6)]=document[_0xd8273b(0xf1)](_0xd8273b(0x16f));const _0x1409b1=_0x288718=>{const _0x2eeda4=_0xd8273b,_0x4617a0=_0x288718[_0x2eeda4(0x15c)]['id'][_0x2eeda4(0xeb)]('-')[0x0],_0x291a2e=this[_0x2eeda4(0x14d)][_0x2eeda4(0x158)][_0x2eeda4(0x14a)]['contains'](_0x2eeda4(0x12a)),_0x383ad9=!(!0x1!=_0x291a2e||'start'!=_0x4617a0),_0x48134e=!(!0x0!=_0x291a2e||'stop'!=_0x4617a0);(_0x383ad9||_0x48134e)&&(this[_0x2eeda4(0x14d)]['engine']['classList'][_0x2eeda4(0x172)](_0x2eeda4(0x12a),_0x383ad9),this['DOM']['e_stop'][_0x2eeda4(0x14a)][_0x2eeda4(0x172)](_0x2eeda4(0xcd),_0x383ad9),this['DOM'][_0x2eeda4(0x12f)][_0x2eeda4(0x14a)][_0x2eeda4(0x172)](_0x2eeda4(0x11a),_0x48134e),_0x383ad9?(this['drawCalls']=0x3c,this['deltaMs']=0x3e8,Engine[_0x2eeda4(0xde)]()):(Engine[_0x2eeda4(0x16f)](),this[_0x2eeda4(0x107)]=-0x1,this[_0x2eeda4(0x1a2)]=0x3e8,this[_0x2eeda4(0x12b)](0x0)));};this[_0xd8273b(0x14d)][_0xd8273b(0x12f)][_0xd8273b(0xe7)](_0xd8273b(0xfd),_0x11fb15=>_0x1409b1(_0x11fb15)),this['DOM']['e_stop'][_0xd8273b(0xe7)]('click',_0x4e14cb=>_0x1409b1(_0x4e14cb)),this[_0xd8273b(0x14d)]['fps']=document[_0xd8273b(0x177)](_0xd8273b(0x181)),this['deltaMs']=0x0,this['drawCalls']=0x0,this[_0xd8273b(0x14d)][_0xd8273b(0x163)]=document['getElementById'](_0xd8273b(0x1df)),this[_0xd8273b(0x14d)][_0xd8273b(0x18e)]=document[_0xd8273b(0xf1)]('keyboard'),this[_0xd8273b(0x14d)][_0xd8273b(0x187)]=document['getElementById'](_0xd8273b(0x108)),this[_0xd8273b(0x14d)][_0xd8273b(0xc2)]=document['getElementById'](_0xd8273b(0x11d)),this['DOM'][_0xd8273b(0xd3)]=document[_0xd8273b(0xf1)](_0xd8273b(0x1da)),this['DOM'][_0xd8273b(0x103)]=document[_0xd8273b(0x177)](_0xd8273b(0xe4)),this[_0xd8273b(0x14d)][_0xd8273b(0xcc)]=document[_0xd8273b(0x177)]('#scenario\x20.pseudo-select-options'),this[_0xd8273b(0x14d)][_0xd8273b(0x129)]=document['querySelector'](_0xd8273b(0x1cc)),this[_0xd8273b(0x14d)]['transitionOptWrap']=document[_0xd8273b(0x177)](_0xd8273b(0xed));const _0x4b8108=_0x38d9fc=>{const _0x50f856=_0xd8273b;_0x38d9fc[_0x50f856(0x15c)][_0x50f856(0x14a)][_0x50f856(0xee)](_0x50f856(0x1b2))||(this[_0x50f856(0x14d)][_0x50f856(0xc2)][_0x50f856(0x1d0)]=_0x38d9fc['target'][_0x50f856(0x1d0)],document[_0x50f856(0x177)](_0x50f856(0x104))['classList']['remove'](_0x50f856(0x1b2)),_0x38d9fc[_0x50f856(0x15c)][_0x50f856(0x14a)][_0x50f856(0x149)]('selected'),Game[_0x50f856(0xc4)](_0x38d9fc[_0x50f856(0x15c)]['id'],STATE_COMBAT)[_0x50f856(0xfb)](()=>Game[_0x50f856(0x1ce)](STATE_COMBAT)));},_0x376967=_0x35860a=>{const _0x51d493=_0xd8273b;_0x35860a[_0x51d493(0x15c)][_0x51d493(0x14a)][_0x51d493(0xee)]('selected')||(this[_0x51d493(0x14d)][_0x51d493(0xd3)]['textContent']=_0x35860a[_0x51d493(0x15c)][_0x51d493(0x1d0)],document['querySelector'](_0x51d493(0x19f))[_0x51d493(0x14a)][_0x51d493(0x1de)](_0x51d493(0x1b2)),_0x35860a['target'][_0x51d493(0x14a)][_0x51d493(0x149)](_0x51d493(0x1b2)),Transitions['default']=_0x35860a['target']['id']);};this[_0xd8273b(0x14d)][_0xd8273b(0x103)]['addEventListener']('click',()=>this[_0xd8273b(0x14d)][_0xd8273b(0x103)]['classList'][_0xd8273b(0x172)]('show')),this[_0xd8273b(0x14d)][_0xd8273b(0x129)][_0xd8273b(0xe7)](_0xd8273b(0xfd),()=>this['DOM'][_0xd8273b(0x129)][_0xd8273b(0x14a)]['toggle'](_0xd8273b(0x1d5))),this['DOM'][_0xd8273b(0x187)][_0xd8273b(0x1a1)]=Game[_0xd8273b(0x13c)][_0xd8273b(0x1b0)],this[_0xd8273b(0x14d)][_0xd8273b(0x163)][_0xd8273b(0x1a1)]=Game[_0xd8273b(0x13c)]['allowEdgePanning'],this[_0xd8273b(0x14d)][_0xd8273b(0x18e)]['checked']=Game['camera']['allowWASDPanning'],Object[_0xd8273b(0x100)](Scenario[_0xd8273b(0x1e1)])['forEach']((_0x40bf0a,_0x26dfdf)=>{const _0x2399ad=_0xd8273b,_0x4f15ed=_0x40bf0a['id'],_0x16d9cd=_0x40bf0a[_0x2399ad(0xff)],_0x162a3a=document['createElement'](_0x2399ad(0x14f));_0x162a3a[_0x2399ad(0x1d0)]=_0x16d9cd,_0x162a3a['id']=_0x4f15ed,0x0===_0x26dfdf&&(_0x162a3a[_0x2399ad(0x110)]=_0x2399ad(0x1b2)),_0x162a3a[_0x2399ad(0xe7)](_0x2399ad(0xfd),_0x5f58cc=>_0x4b8108(_0x5f58cc)),this[_0x2399ad(0x14d)][_0x2399ad(0xcc)][_0x2399ad(0x16c)](_0x162a3a);}),Object[_0xd8273b(0x1ca)](Transitions['effects'])['forEach']((_0x19b0cb,_0x559050)=>{const _0x3ad8f8=_0xd8273b;if(0x0===_0x559050){const _0x3e765e=document[_0x3ad8f8(0xf9)](_0x3ad8f8(0x14f));_0x3e765e['textContent']='Random',_0x3e765e['id']='random',_0x3e765e[_0x3ad8f8(0x110)]=_0x3ad8f8(0x1b2),_0x3e765e[_0x3ad8f8(0xe7)](_0x3ad8f8(0xfd),_0x53c58f=>_0x376967(_0x53c58f)),this[_0x3ad8f8(0x14d)][_0x3ad8f8(0x175)]['appendChild'](_0x3e765e);}const _0x3f0cab=_0x19b0cb,_0x2f6150=_0x19b0cb['toUpperCase']()[0x0]+_0x19b0cb[_0x3ad8f8(0x132)](0x1),_0x4780bd=document[_0x3ad8f8(0xf9)](_0x3ad8f8(0x14f));_0x4780bd[_0x3ad8f8(0x1d0)]=_0x2f6150,_0x4780bd['id']=_0x3f0cab,_0x4780bd[_0x3ad8f8(0xe7)](_0x3ad8f8(0xfd),_0x4fe188=>_0x376967(_0x4fe188)),this['DOM']['transitionOptWrap'][_0x3ad8f8(0x16c)](_0x4780bd),_0x3ad8f8(0x146)===_0x3f0cab&&_0x376967({'target':_0x4780bd});}),this['DOM'][_0xd8273b(0x187)][_0xd8273b(0xe7)](_0xd8273b(0x1b1),_0x10f0cf=>Game['camera'][_0xd8273b(0x1b0)]=_0x10f0cf[_0xd8273b(0x15c)][_0xd8273b(0x1a1)]),this[_0xd8273b(0x14d)][_0xd8273b(0x163)][_0xd8273b(0xe7)](_0xd8273b(0x1b1),_0x58ab90=>Game['camera'][_0xd8273b(0xcb)]=_0x58ab90[_0xd8273b(0x15c)][_0xd8273b(0x1a1)]),this[_0xd8273b(0x14d)][_0xd8273b(0x18e)]['addEventListener'](_0xd8273b(0x1b1),_0x27bc82=>Game[_0xd8273b(0x13c)][_0xd8273b(0x10d)]=_0x27bc82[_0xd8273b(0x15c)][_0xd8273b(0x1a1)]);}[_0x153456(0x12b)](_0x5f4111){const _0x53037b=_0x153456;this[_0x53037b(0x107)]+=0x1,this['deltaMs']+=_0x5f4111,0x3e8>this[_0x53037b(0x1a2)]||(this[_0x53037b(0x14d)][_0x53037b(0x1e8)][_0x53037b(0x1d0)]=this[_0x53037b(0x107)],this[_0x53037b(0x1a2)]-=0x3e8,this[_0x53037b(0x107)]=0x0);}}class EngineLoop{constructor(){const _0x1f1181=_0x153456;this[_0x1f1181(0x10a)]=0x32,this['frame']=0x0,this[_0x1f1181(0x12a)]=!0x1;}['start'](){const _0x4873fe=_0x153456;if(this['running'])return;this['running']=!0x0;let _0x2f5bf5,_0x31d12f=performance[_0x4873fe(0x124)](),_0x3e6a29=this[_0x4873fe(0x10a)];const _0x478e46=_0x3ebb67=>{const _0x5dfcf8=_0x4873fe;for(this[_0x5dfcf8(0xda)]=requestAnimationFrame(_0x478e46),_0x2f5bf5=_0x31d12f,_0x31d12f=_0x3ebb67,_0x3e6a29+=_0x31d12f-_0x2f5bf5;_0x3e6a29>=this[_0x5dfcf8(0x10a)];)_0x3e6a29-=this['step'],Game[_0x5dfcf8(0x1d4)](this[_0x5dfcf8(0x10a)]);Game[_0x5dfcf8(0x12b)](_0x31d12f-_0x2f5bf5);};this[_0x4873fe(0xda)]=requestAnimationFrame(_0x478e46),console[_0x4873fe(0x19c)](_0x4873fe(0x19e));}[_0x153456(0x16f)](){const _0x91ddb6=_0x153456;cancelAnimationFrame(this[_0x91ddb6(0xda)]),this[_0x91ddb6(0x12a)]=!0x1,console[_0x91ddb6(0x19c)](_0x91ddb6(0x190));}}class EventManager{constructor(){this['events']={};}[_0x153456(0x1e2)](_0x18b188,_0x460438){const _0x45fee5=_0x153456;if(this['events'][_0x18b188]!==void 0x0){for(let [_0x25a7f4,_0x3285d9]of Object[_0x45fee5(0x1b4)](this['events'][_0x18b188]))_0x3285d9['fn'](_0x460438,_0x25a7f4),_0x3285d9[_0x45fee5(0x14e)]||this[_0x45fee5(0x1de)](_0x18b188,_0x25a7f4);}}[_0x153456(0xf0)](_0x5d57b4,_0xe830eb,_0x148d7d=!0x1){const _0x2fd622=_0x153456;if(this[_0x2fd622(0x127)][_0x5d57b4]=this['events'][_0x5d57b4]||{},_0x2fd622(0x1ae)==typeof _0xe830eb){const _0xda8afa='_'+Math[_0x2fd622(0xd1)]()[_0x2fd622(0x178)](0x24)[_0x2fd622(0xca)](0x2,0x9);return void 0x0===this[_0x2fd622(0x127)][_0x5d57b4][_0xda8afa]?(this[_0x2fd622(0x127)][_0x5d57b4][_0xda8afa]={'fn':_0xe830eb,'persistent':_0x148d7d},_0xda8afa):this[_0x2fd622(0xf0)](_0x5d57b4,_0xe830eb,_0x148d7d);}}['remove'](_0x5c800c,_0x3ace3c){this['events'][_0x5c800c]?.[_0x3ace3c]!==void 0x0&&delete this['events'][_0x5c800c][_0x3ace3c];}}class GameManager{constructor(){const _0x52e73f=_0x153456;this[_0x52e73f(0x14c)]=document[_0x52e73f(0xf1)](_0x52e73f(0x14c)),this[_0x52e73f(0x11b)]=this['canvas'][_0x52e73f(0xc3)]('2d'),this['speed']=0x1,this[_0x52e73f(0x142)]=0x4,this[_0x52e73f(0x13c)]=new Camera(this[_0x52e73f(0x14c)],this[_0x52e73f(0x11b)],this[_0x52e73f(0x142)]),this[_0x52e73f(0x105)]=[,,,,],this['controllers'][0x0]=new TitleController(),this[_0x52e73f(0x105)][0x1]=new CombatController(),this[_0x52e73f(0x105)][0x2]=new TownController(),this['controllers'][0x3]=new WorldController(),this['state']=null;}async[_0x153456(0x1a5)](){const _0x542047=_0x153456;await Promise[_0x542047(0xdf)]([...this[_0x542047(0x105)][_0x542047(0x115)](_0x19a6ea=>_0x19a6ea[_0x542047(0x16d)]()),Area[_0x542047(0x16d)](),Unit[_0x542047(0x16d)](),Scenario[_0x542047(0x16d)]()]),await this[_0x542047(0xc4)](_0x542047(0x169),STATE_COMBAT,!0x1),await this[_0x542047(0x1ce)](STATE_COMBAT,!0x1);}async[_0x153456(0xc4)](_0xbe80b3,_0x4590b5,_0xddb25c=!0x0){const _0x3eba91=_0x153456;return _0xddb25c?Promise['all']([this['controllers'][_0x4590b5][_0x3eba91(0xc4)](_0xbe80b3),Transitions['do']()]):this[_0x3eba91(0x105)][_0x4590b5]['prepare'](_0xbe80b3);}async[_0x153456(0x1ce)](_0x36dd47,_0x12f2d0=!0x0){const _0x1762b1=_0x153456;this[_0x1762b1(0x138)]=_0x36dd47,this[_0x1762b1(0x105)][this['state']][_0x1762b1(0x1ce)](),!0x0===_0x12f2d0&&await Transitions[_0x1762b1(0x101)]();}['update'](_0x1eb651){const _0x541648=_0x153456;Input[_0x541648(0x1d4)](_0x1eb651);}['render'](_0x3bd5f0){const _0x3c3add=_0x153456;Tools[_0x3c3add(0x12b)](_0x3bd5f0),this[_0x3c3add(0x13c)]['render'](_0x3bd5f0),this[_0x3c3add(0x11b)][_0x3c3add(0x1ac)](0x0,0x0,this[_0x3c3add(0x14c)][_0x3c3add(0xf6)],this[_0x3c3add(0x14c)][_0x3c3add(0x170)]),this['controllers'][this['state']][_0x3c3add(0x12b)](_0x3bd5f0),Transitions[_0x3c3add(0x12b)](_0x3bd5f0);}[_0x153456(0x1ab)](_0x343105){const _0xc498a=_0x153456;null==this[_0xc498a(0x138)]||this[_0xc498a(0x105)][this[_0xc498a(0x138)]][_0xc498a(0x1ab)](_0x343105);}[_0x153456(0x1ad)](_0x33a41d){const _0x2e54a0=_0x153456;null==this['state']||this[_0x2e54a0(0x105)][this['state']]['onMouseOut'](_0x33a41d);}[_0x153456(0xe1)](_0x3713cd){const _0x40578e=_0x153456;null==this['state']||this[_0x40578e(0x105)][this[_0x40578e(0x138)]][_0x40578e(0xe1)](_0x3713cd);}[_0x153456(0xe0)](_0x1d7df4){const _0x2fa278=_0x153456;null==this[_0x2fa278(0x138)]||this[_0x2fa278(0x105)][this[_0x2fa278(0x138)]][_0x2fa278(0xe0)](_0x1d7df4);}['onMouseDown'](_0x488517){const _0x52d6b7=_0x153456;null==this[_0x52d6b7(0x138)]||this[_0x52d6b7(0x105)][this['state']]['onMouseDown'](_0x488517);}[_0x153456(0x13b)](_0x280b1d){const _0x4e26c0=_0x153456;null==this[_0x4e26c0(0x138)]||this['controllers'][this[_0x4e26c0(0x138)]]['onMouseUp'](_0x280b1d);}[_0x153456(0x166)](_0x1907d3){const _0x2b61f1=_0x153456;null==this[_0x2b61f1(0x138)]||this[_0x2b61f1(0x105)][this[_0x2b61f1(0x138)]][_0x2b61f1(0x166)](_0x1907d3);}[_0x153456(0x198)](_0x24e383){const _0x4a7850=_0x153456;null==this[_0x4a7850(0x138)]||this[_0x4a7850(0x105)][this[_0x4a7850(0x138)]][_0x4a7850(0x198)](_0x24e383);}[_0x153456(0x12e)](_0x5a5371){const _0x587e29=_0x153456;null==this[_0x587e29(0x138)]||this[_0x587e29(0x105)][this[_0x587e29(0x138)]][_0x587e29(0x12e)](_0x5a5371);}}class InputManager{constructor(){const _0x2c7f8e=_0x153456;this['KEYBOARD']={},this[_0x2c7f8e(0x13f)]['ArrowUp']='Up',this[_0x2c7f8e(0x13f)][_0x2c7f8e(0x16b)]=_0x2c7f8e(0x109),this['KEYBOARD'][_0x2c7f8e(0xfe)]=_0x2c7f8e(0x113),this[_0x2c7f8e(0x13f)]['ArrowLeft']='Left',this[_0x2c7f8e(0x13f)][_0x2c7f8e(0x1aa)]='Confirm',this[_0x2c7f8e(0x13f)][_0x2c7f8e(0xbe)]='Cancel',this[_0x2c7f8e(0x13f)][_0x2c7f8e(0x173)]=_0x2c7f8e(0x1c4),this[_0x2c7f8e(0x13f)]['m']=_0x2c7f8e(0x17a),this[_0x2c7f8e(0x13f)]['q']=_0x2c7f8e(0x1b6),this[_0x2c7f8e(0x13f)]['e']='Special',this[_0x2c7f8e(0x13f)][0x1]=_0x2c7f8e(0x1d6),this[_0x2c7f8e(0x13f)][0x2]=_0x2c7f8e(0x1d6),this['KEYBOARD'][0x3]=_0x2c7f8e(0x1d6),this[_0x2c7f8e(0x13f)][0x4]=_0x2c7f8e(0x1d6),this[_0x2c7f8e(0x13f)]['w']='Camera\x20Up',this[_0x2c7f8e(0x13f)]['a']=_0x2c7f8e(0x114),this[_0x2c7f8e(0x13f)]['s']=_0x2c7f8e(0xe3),this['KEYBOARD']['d']=_0x2c7f8e(0x112),this[_0x2c7f8e(0x15b)]=[],this[_0x2c7f8e(0xe5)]={},document[_0x2c7f8e(0xe7)](_0x2c7f8e(0x10e),_0x343d0c=>Game['onMouseMove'](_0x343d0c)),document[_0x2c7f8e(0xe7)]('mouseout',_0x52ef9d=>Game[_0x2c7f8e(0x1ad)](_0x52ef9d)),document[_0x2c7f8e(0xe7)](_0x2c7f8e(0xd2),_0x69686a=>Game['onMouseWheel'](_0x69686a)),document[_0x2c7f8e(0xe7)]('click',_0x500499=>Game[_0x2c7f8e(0xe0)](_0x500499)),document[_0x2c7f8e(0xe7)](_0x2c7f8e(0x1c6),_0x20bc6c=>Game['onMouseDown'](_0x20bc6c)),document[_0x2c7f8e(0xe7)](_0x2c7f8e(0x1af),_0x30a003=>Game[_0x2c7f8e(0x13b)](_0x30a003)),document[_0x2c7f8e(0xe7)](_0x2c7f8e(0xf4),_0x49766b=>{const _0x432cbf=_0x2c7f8e;this[_0x432cbf(0xe5)][_0x49766b['key']]=!0x0,Game[_0x432cbf(0x198)](_0x49766b);}),document['addEventListener'](_0x2c7f8e(0x116),_0x3fc4c1=>{const _0x407d8f=_0x2c7f8e;this[_0x407d8f(0xe5)][_0x3fc4c1[_0x407d8f(0x15d)]]=!0x1,Game['onKeyUp'](_0x3fc4c1);}),document[_0x2c7f8e(0xe7)](_0x2c7f8e(0x1c2),_0x5f28aa=>{const _0x44a506=_0x2c7f8e;_0x5f28aa[_0x44a506(0x136)](),Game[_0x44a506(0x166)](_0x5f28aa);});}['update'](){}}function _0x1aab(_0x3b5b75,_0x1ff498){_0x3b5b75=_0x3b5b75-0xbc;let _0x4e212e=_0x19b6[_0x3b5b75];return _0x4e212e;}class Location{constructor(_0x269f35,_0x51bad4,_0x31b6b4,_0x2b67bd,_0x5ba906,_0x5678b2,_0x448c22){this['x']=_0x269f35,this['y']=_0x51bad4,this['tw']=_0x31b6b4,this['td']=_0x2b67bd,this['th']=_0x5ba906,this['tiles']=[]['concat'](_0x5678b2)['map'](_0x5e026f=>new Tile(_0x448c22[_0x5e026f]));}get[_0x153456(0xfa)](){const _0x6e2110=_0x153456;return this[_0x6e2110(0x128)][this[_0x6e2110(0x128)][_0x6e2110(0x1e9)]-0x1];}get['z'](){const _0x7056c5=_0x153456;return this[_0x7056c5(0x128)][_0x7056c5(0x1e9)];}get['ox'](){const _0x2c57e9=_0x153456;let _0x48db16=0x0;return this[_0x2c57e9(0x128)][_0x2c57e9(0xe6)](_0x2dda9d=>_0x48db16+=_0x2dda9d['ox']),_0x48db16;}get['oy'](){const _0x33be93=_0x153456;let _0x36cf26=0x0;return this[_0x33be93(0x128)][_0x33be93(0xe6)](_0xb7f059=>_0x36cf26+=_0xb7f059['oy']),_0x36cf26;}get[_0x153456(0x13e)](){return this['y']*(this['tw']/0x2)-this['x']*(this['tw']/0x2)+this['ox'];}get[_0x153456(0x195)](){return this['y']*(this['td']/0x2)+this['x']*(this['td']/0x2)+this['oy']-(this['z']-0x1)*this['th'];}get[_0x153456(0xd8)](){const _0x59c5a9=_0x153456;return this[_0x59c5a9(0xfa)][_0x59c5a9(0xd8)];}get[_0x153456(0x1db)](){const _0x26b932=_0x153456;return this[_0x26b932(0xfa)][_0x26b932(0x1db)];}get[_0x153456(0x1be)](){return this['surface']['isWater'];}get[_0x153456(0x18a)](){const _0xb37f22=_0x153456;return this[_0xb37f22(0xfa)][_0xb37f22(0x18a)];}get[_0x153456(0x167)](){const _0x232ac0=_0x153456;return this[_0x232ac0(0xfa)]['isUnreachable'];}[_0x153456(0x1d4)](_0x3cce96,_0x14ad23){const _0x587998=_0x153456;this['tiles'][_0x587998(0xe6)]((_0x107220,_0x5d985f)=>{const _0x5296de=_0x587998;if(_0x107220[_0x5296de(0x10c)])for(_0x107220['ms']+=_0x3cce96;_0x107220['ms']>_0x107220['frames'][tile['no']]['ms'];){if(_0x107220['ms']-=_0x107220[_0x5296de(0x11e)][tile['no']]['ms'],void 0x0!==_0x107220[_0x5296de(0x11e)][tile['no']][_0x5296de(0x150)])return this['tiles'][_0x5d985f]=_0x107220=new Tile(_0x14ad23[tile[_0x5296de(0x11e)][tile['no']][_0x5296de(0x150)]],tile['ms']);_0x107220['no']+=(_0x107220['no']+0x1)%_0x107220['frames'][_0x5296de(0x1e9)];}});}}class IsometricMath{}IsometricMath[_0x153456(0x144)]={'north':[[0x0,0x3f],[0x3f,0x0],[0x7f,0x1f],[0x3f,0x5f]],'west':[[0x7f,0x3f],[0x3f,0x0],[0x0,0x1f],[0x3f,0x5f]],'south':[[0x0,0x1f],[0x3f,0x1f],[0x7f,0x3f],[0x3f,0x3f]],'east':[[0x0,0x3f],[0x3f,0x1f],[0x7f,0x1f],[0x3f,0x3f]]},IsometricMath[_0x153456(0x1e5)]=function(_0x3da7b1,_0x1994b6,_0x3aaf45){const _0x4f427e=_0x153456;return Math[_0x4f427e(0x125)]((_0x3da7b1[0x0]*(_0x1994b6[0x1]-_0x3aaf45[0x1])+_0x1994b6[0x0]*(_0x3aaf45[0x1]-_0x3da7b1[0x1])+_0x3aaf45[0x0]*(_0x3da7b1[0x1]-_0x1994b6[0x1]))/0x2);},IsometricMath[_0x153456(0x159)]=function(_0x551001,_0x269d72,_0x421977,_0x25fc5){const _0x50a8c9=_0x153456,_0x5567ac=_0x551001-_0x25fc5['position']['x'],_0xd9b7f5=_0x269d72-_0x25fc5[_0x50a8c9(0x11f)]['y'];let _0x5dcd3c=null;return _0x421977[_0x50a8c9(0x156)]['X'][_0x50a8c9(0x1cd)](function(_0x36075b){const _0x33cdbb=_0x50a8c9,_0x2db73a=_0x36075b[_0x33cdbb(0x13e)]*_0x25fc5[_0x33cdbb(0x142)],_0xfc81ba=_0x36075b['posY']*_0x25fc5[_0x33cdbb(0x142)];let _0x208cd9=!0x0;return _0x208cd9&=_0x5567ac>=_0x2db73a,_0x208cd9&=_0xd9b7f5>=_0xfc81ba,_0x208cd9&=_0x5567ac<_0x2db73a+Area['tw']*_0x25fc5['scaling'],_0x208cd9&=_0xd9b7f5<_0xfc81ba+Area['td']*_0x25fc5[_0x33cdbb(0x142)]+(_0x36075b['z']-0x1)*Area['th']*_0x25fc5[_0x33cdbb(0x142)],!!_0x208cd9;})[_0x50a8c9(0xe6)](function(_0x5c51d7){const _0x655f5f=_0x50a8c9,_0x37d2ed=_0x5567ac-_0x5c51d7[_0x655f5f(0x13e)]*_0x25fc5[_0x655f5f(0x142)],_0x328e25=_0xd9b7f5-_0x5c51d7[_0x655f5f(0x195)]*_0x25fc5[_0x655f5f(0x142)];if(_0x5c51d7['isSloped']){const _0x1fa889=IsometricMath[_0x655f5f(0x144)][_0x5c51d7[_0x655f5f(0xd8)]];let _0x494997=IsometricMath['getTriangleArea'](_0x1fa889[0x0],_0x1fa889[0x1],_0x1fa889[0x2])+IsometricMath[_0x655f5f(0x1e5)](_0x1fa889[0x0],_0x1fa889[0x3],_0x1fa889[0x2]),_0x5c48bb=IsometricMath[_0x655f5f(0x1e5)]([_0x37d2ed,_0x328e25],_0x1fa889[0x0],_0x1fa889[0x1]);_0x5c48bb+=IsometricMath[_0x655f5f(0x1e5)]([_0x37d2ed,_0x328e25],_0x1fa889[0x0],_0x1fa889[0x3]),_0x5c48bb+=IsometricMath[_0x655f5f(0x1e5)]([_0x37d2ed,_0x328e25],_0x1fa889[0x1],_0x1fa889[0x2]),_0x5c48bb+=IsometricMath[_0x655f5f(0x1e5)]([_0x37d2ed,_0x328e25],_0x1fa889[0x2],_0x1fa889[0x3]),_0x494997==_0x5c48bb&&(_0x5dcd3c=_0x5c51d7);}else{const _0x529ddb=Area['tw']/0x2*_0x25fc5[_0x655f5f(0x142)],_0x1e8fa9=Area['td']/0x2*_0x25fc5[_0x655f5f(0x142)],_0x2c8deb=Math['floor']((_0x529ddb-Math[_0x655f5f(0x125)](_0x529ddb-_0x37d2ed))/0x2)>=Math[_0x655f5f(0x125)](_0x1e8fa9-_0x328e25),_0x13e0ad=_0x328e25>Math['floor']((_0x529ddb-Math[_0x655f5f(0x125)](_0x529ddb-_0x37d2ed))/0x2)+_0x1e8fa9;_0x5dcd3c=_0x2c8deb?_0x5c51d7:_0x13e0ad?null:_0x5dcd3c;}}),_0x5dcd3c;};class Scenario{constructor(_0x310878){const _0x5746a3=_0x153456;this['id']=_0x310878,this['name']=Scenario[_0x5746a3(0x1e1)][_0x310878][_0x5746a3(0xff)],this[_0x5746a3(0x1c9)]=new Area(Scenario[_0x5746a3(0x1e1)][_0x310878][_0x5746a3(0x1c9)]['id'],{'layout':Scenario[_0x5746a3(0x1e1)][_0x310878][_0x5746a3(0x1c9)][_0x5746a3(0x128)]}),this[_0x5746a3(0xd0)]=new Decorations(Scenario[_0x5746a3(0x1e1)][_0x310878][_0x5746a3(0xd0)]['id'],{'layout':Scenario[_0x5746a3(0x1e1)][_0x310878][_0x5746a3(0xd0)][_0x5746a3(0x128)]}),this[_0x5746a3(0x160)]=[]['concat'](Scenario[_0x5746a3(0x1e1)][_0x310878][_0x5746a3(0x160)])[_0x5746a3(0x115)](_0x4c6ba5=>new Unit(_0x4c6ba5['id']));}async[_0x153456(0xc4)](){const _0x53a302=_0x153456;await Promise[_0x53a302(0xdf)]([this[_0x53a302(0x1c9)]['prepare'](),this['decorations']['prepare']()]);}}Scenario[_0x153456(0x1e1)]={},Scenario['_load']=async function(){const _0x4267d6=_0x153456;if(null!==Scenario[_0x4267d6(0x1e1)])return Promise[_0x4267d6(0x17d)]();},Scenario[_0x153456(0x1e1)][_0x153456(0x169)]={'id':'ruins','name':'Forest\x20Ruins','area':{'id':_0x153456(0x151),'tiles':[[0x1,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,[0x18,0x18],[0x17,0x17],0x17,0x17,0x1,0x1],[0x1,0x16,0xb,0xb,0x16,0x1,0x1],[0x1,0x16,0xb,0xb,0x16,0x1,0x1],[0x1,0x16,[0x17,0x18],0x17,0x19,0x1,0x1],[[0x1,0x19],0x1,0x16,0x19,0x15,[0x15,0x18],0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x1]]},'decorations':{'id':_0x153456(0x151),'tiles':[[0x0,0x0,0x2,0x1,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x15,0x17,0x1],[0x0,0x0,0xe,0xd,0x16,0x18,0x0],[0x0,0x0,0xc,0xb,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x2,0x0],[0x0,0x2,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0,0x0]]},'units':[{'id':_0x153456(0x1a3),'x':0x1,'y':0x1,'orientation':'south'}]},Scenario[_0x153456(0x1e1)][_0x153456(0x1ba)]={'id':_0x153456(0x1ba),'name':'Pond','area':{'id':_0x153456(0x151),'tiles':[[0x0,0x0,0x4,0x4,0x4,0x4,0x4],[0x4,0x4,0x4,0x4,0x4,[0x1,0x15],0x2],[0x4,0x4,0x3,0x3,0x3,0x5,0x2],[0x4,0x3,0x3,0x3,0x3,0x3,0x5,0x2],[0x4,0x3,0x3,0x3,0x3,0x3,0x3,0x5],[0x4,0x3,0x3,0x3,0x3,0x3,0x3,0x5],[0x4,0x3,0x3,0x3,0x3,0x7,0x6,0x2],[0x4,0x4,0x4,0x6,0x6,0x2,0x2],[0x0,0x0,0x4,0x4,0x4,0x4,0x0]]},'decorations':{'id':_0x153456(0x151),'tiles':[[0x0,0x0,0x0,0x0,0x2,0x2,0x0],[0x0,0x0,0x0,0x0,0x1,0x0,0x0],[0x0,0x2,0xe,0xd,0xd,0x1,0x0],[0x0,0xe,0xb,0xb,0xb,0xd,0x0,0x0],[0x0,0xc,0xb,0xb,0xb,0xb,0xd,0x0],[0x0,0xc,0xb,0xb,0xb,0xb,0xb,0x0],[0x0,0xc,0xb,0xb,0xb,0x0,0x1,0x0],[0x0,0x0,0x2,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x0,0x0,0x0]]},'units':[{'id':'slime','x':0x1,'y':0x1,'orientation':_0x153456(0x1b5)}]};class Tile{constructor(_0x5bed1f,_0x4cb748=0x0){const _0x359651=_0x153456;this[_0x359651(0x164)]=~~_0x5bed1f[_0x359651(0x164)],this[_0x359651(0x118)]=~~_0x5bed1f['ox'],this[_0x359651(0x1bd)]=~~_0x5bed1f['oy'],this['isAnimated']=_0x5bed1f[_0x359651(0x176)](_0x359651(0x11e)),this['isAnimated']&&(this['frames']=_0x5bed1f[_0x359651(0x11e)],this['no']=0x0,this[_0x359651(0x13a)]=0x1,this['ms']=_0x4cb748+-0x1*~~_0x5bed1f['delay'],this[_0x359651(0x122)]=0x0),this[_0x359651(0x1be)]=!!_0x5bed1f['isWater'],this[_0x359651(0x18a)]=!!_0x5bed1f['isHazard'],this[_0x359651(0x167)]=!!_0x5bed1f[_0x359651(0x167)],this[_0x359651(0x1db)]=!!_0x5bed1f['isSloped'],this[_0x359651(0xd8)]=_0x5bed1f[_0x359651(0xd8)]||_0x359651(0x1b8);}get['index'](){const _0x42c08f=_0x153456;return this[_0x42c08f(0x10c)]?this[_0x42c08f(0x11e)][this['no']]['idx']:this[_0x42c08f(0x164)];}get['ox'](){const _0x39cf6a=_0x153456;return this['aox']+~~this[_0x39cf6a(0x11e)]?.[this['no']]?.['ox'];}get['oy'](){const _0x2bc3a4=_0x153456;return this[_0x2bc3a4(0x1bd)]+~~this[_0x2bc3a4(0x11e)]?.[this['no']]?.['oy'];}}class TitleController{constructor(){}async[_0x153456(0x16d)](){}[_0x153456(0x1d4)](){}[_0x153456(0x12b)](){}}class TownController{constructor(){}async['_load'](){}[_0x153456(0x1d4)](){}[_0x153456(0x12b)](){}}class TransitionManager{constructor(){const _0x4e47bd=_0x153456;this[_0x4e47bd(0x137)]=null,this[_0x4e47bd(0x18c)]=null,this['setupFn']=null,this['drawFn']=null,this[_0x4e47bd(0xc0)]=!0x1,this[_0x4e47bd(0x1c0)]=0x0,this['msCurrent']=0x0,this['effects']={},this[_0x4e47bd(0x17f)][_0x4e47bd(0x17c)]={'setup':this[_0x4e47bd(0x1a8)],'draw':this[_0x4e47bd(0x174)]},this[_0x4e47bd(0x17f)][_0x4e47bd(0x146)]={'setup':this[_0x4e47bd(0x18b)],'draw':this[_0x4e47bd(0x152)]},this['effects'][_0x4e47bd(0xc7)]={'setup':this[_0x4e47bd(0x130)],'draw':this[_0x4e47bd(0x1d2)]};}['do'](_0x31bf03=null,_0x1a8458=0x3e8){const _0x477da6=_0x153456;return this['inverse']=!0x1,this[_0x477da6(0x1d3)](_0x31bf03,_0x1a8458);}[_0x153456(0x101)](_0x2d6cb3=null,_0x112b77=0x3e8){const _0x30487c=_0x153456;return this[_0x30487c(0xc0)]=!0x0,this[_0x30487c(0x1d3)](_0x2d6cb3,_0x112b77);}[_0x153456(0x12b)](_0x5af503){const _0x193fac=_0x153456;null==this[_0x193fac(0xf2)]||(this[_0x193fac(0xd4)]=Math[_0x193fac(0x148)](this[_0x193fac(0x1c0)],this[_0x193fac(0xd4)]+_0x5af503),this[_0x193fac(0xf2)](),this[_0x193fac(0xd4)]==this['msTarget']&&(this[_0x193fac(0xf2)]=null,Events['dispatch']('transition-complete')));}['_use'](_0x5095ab,_0x3291e7){const _0x25a561=_0x153456;let _0x2b9537=this['effects'][_0x5095ab]||this[_0x25a561(0x17f)][this[_0x25a561(0x137)]];if(null==_0x2b9537){const _0x1394a9=Object[_0x25a561(0x1ca)](this[_0x25a561(0x17f)]);_0x2b9537=this[_0x25a561(0x17f)][_0x1394a9[Math[_0x25a561(0xd9)](Math['random']()*_0x1394a9[_0x25a561(0x1e9)])]];}return this[_0x25a561(0xd4)]=0x0,this['msTarget']=_0x3291e7,this['setupFn']=_0x2b9537['setup'],this[_0x25a561(0x18f)](_0x3291e7)[_0x25a561(0xfb)](()=>(this['drawFn']=_0x2b9537[_0x25a561(0x1d7)],new Promise(_0x5a3deb=>Events[_0x25a561(0xf0)](_0x25a561(0x1d8),()=>_0x5a3deb()))));}[_0x153456(0x1a8)](){return Promise['resolve']();}[_0x153456(0x174)](){const _0x2ae20f=_0x153456,_0x1a2b0c=Math[_0x2ae20f(0x125)](0x1*~~this[_0x2ae20f(0xc0)]-this['msCurrent']/this['msTarget']),_0x3bac25=Math['min'](0x1,_0x1a2b0c+0.5*_0x1a2b0c),_0x27b055=Game[_0x2ae20f(0x14c)]['width']*(_0x3bac25*(0x2-_0x3bac25)/0x2);Game['ctx'][_0x2ae20f(0xc8)](0x0,0x0,_0x27b055+0x1,Game[_0x2ae20f(0x14c)]['height']),Game['ctx']['fillRect'](Game[_0x2ae20f(0x14c)][_0x2ae20f(0xf6)],0x0,-_0x27b055-0x1,Game['canvas']['height']);}['_squaresSetup'](_0x43f1b7){const _0x4312d3=_0x153456,_0xfa2485=0x5,_0x1c29ca=Math[_0x4312d3(0xd9)](Game[_0x4312d3(0x14c)][_0x4312d3(0x170)]/0x5)+Math[_0x4312d3(0xbc)](Game['canvas']['height']%0x5),_0x384239=Math[_0x4312d3(0xd9)](Game[_0x4312d3(0x14c)][_0x4312d3(0xf6)]/_0x1c29ca),_0x23930c=_0x1c29ca+Math[_0x4312d3(0xbc)](Game[_0x4312d3(0x14c)]['width']%_0x1c29ca/_0x384239);this[_0x4312d3(0x18c)]=[],this['opts']['width']=_0x23930c,this['opts']['height']=_0x1c29ca;for(let _0x1e986c=0x0;_0x1e986c<_0xfa2485;_0x1e986c++){const _0x5ebe20=[];for(let _0x338d5d=0x0;_0x338d5d<_0x384239;_0x338d5d++){const _0x48e67d={};_0x48e67d[_0x4312d3(0x10f)]=_0x43f1b7-0x12c-Math[_0x4312d3(0x125)](0x1*~~this[_0x4312d3(0xc0)]-(0x1-(_0x1e986c+_0x338d5d)/(_0xfa2485+_0x384239-0x2)))*(_0x43f1b7-0x12c)+0x12c,_0x48e67d[_0x4312d3(0xde)]=Math['max'](0x0,_0x48e67d[_0x4312d3(0x10f)]-0x190),_0x5ebe20[_0x4312d3(0x123)](_0x48e67d);}this[_0x4312d3(0x18c)][_0x4312d3(0x123)](_0x5ebe20);}return Promise['resolve']();}[_0x153456(0x152)](){const _0x3c0908=_0x153456,_0x4ab8fa=Math['abs'](this['msTarget']*~~this['inverse']-this[_0x3c0908(0xd4)]);for(let _0x1ef8e1=0x0;_0x1ef8e1<this[_0x3c0908(0x18c)][_0x3c0908(0x1e9)];_0x1ef8e1++)for(let _0x1a807b=0x0;_0x1a807b<this[_0x3c0908(0x18c)][_0x1ef8e1][_0x3c0908(0x1e9)];_0x1a807b++){const _0x21bf87=this[_0x3c0908(0x18c)][_0x1ef8e1][_0x1a807b];_0x21bf87[_0x3c0908(0xde)]<_0x4ab8fa&&(Game[_0x3c0908(0x11b)][_0x3c0908(0x194)]=Math[_0x3c0908(0x148)](0x1,(_0x4ab8fa-_0x21bf87['start'])/(_0x21bf87[_0x3c0908(0x10f)]-_0x21bf87[_0x3c0908(0xde)])),Game[_0x3c0908(0x11b)][_0x3c0908(0xc8)](_0x1a807b*this[_0x3c0908(0x18c)][_0x3c0908(0xf6)],_0x1ef8e1*this['opts'][_0x3c0908(0x170)],this[_0x3c0908(0x18c)][_0x3c0908(0xf6)],this[_0x3c0908(0x18c)][_0x3c0908(0x170)]));}Game['ctx'][_0x3c0908(0x194)]=0x1;}[_0x153456(0x130)](){const _0x594a79=_0x153456;return Promise[_0x594a79(0x17d)]();}[_0x153456(0x1d2)](){const _0x492fad=_0x153456,_0x2fe95f=Math[_0x492fad(0x125)](0x1*~~this[_0x492fad(0xc0)]-this[_0x492fad(0xd4)]/this['msTarget']);Game['ctx'][_0x492fad(0x194)]=1.1*_0x2fe95f,Game['ctx']['fillRect'](0x0,0x0,Game[_0x492fad(0x14c)]['width'],Game[_0x492fad(0x14c)][_0x492fad(0x170)]),Game[_0x492fad(0x11b)][_0x492fad(0x194)]=0x1;}}class Unit{constructor(_0x215485){const _0x3b7f6e=_0x153456;this['id']=_0x215485,this[_0x3b7f6e(0x1b3)]=Unit[_0x3b7f6e(0x1e1)][_0x215485]['animations'],this[_0x3b7f6e(0x1bb)]=Asset[_0x3b7f6e(0x196)](this['id'],_0x3b7f6e(0x102),Unit[_0x3b7f6e(0x1e1)][_0x215485][_0x3b7f6e(0x143)]);}async[_0x153456(0xc4)](){const _0x5ca1c2=_0x153456;await this[_0x5ca1c2(0x1bb)][_0x5ca1c2(0x1a5)]();}}Unit[_0x153456(0x1e1)]={},Unit[_0x153456(0x16d)]=async function(){if(null!==Unit['data'])return Promise['resolve']();},Unit[_0x153456(0x1e1)]['player']={'id':_0x153456(0x189),'src':'player.png','sprite':{'height':0x30,'width':0x20},'animations':{'idle':{'east':{'frames':[{'idx':0x2,'ms':0x7d},{'idx':0x1,'ms':0xfa},{'idx':0x2,'ms':0x7d}],'variation':[{'idx':0x3,'ms':0x7d},{'idx':0x4,'ms':0xfa},{'idx':0x3,'ms':0x7d}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x2,'ms':0x7d},{'idx':0x1,'ms':0xfa},{'idx':0x2,'ms':0x7d}],'variation':[{'idx':0x3,'ms':0x7d},{'idx':0x4,'ms':0xfa},{'idx':0x3,'ms':0x7d}]},'west':{'frames':[{'idx':0x7,'ms':0x7d},{'idx':0x6,'ms':0xfa},{'idx':0x7,'ms':0x7d}],'variation':[{'idx':0x8,'ms':0x7d},{'idx':0x9,'ms':0xfa},{'idx':0x8,'ms':0x7d}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x7,'ms':0x7d},{'idx':0x6,'ms':0xfa},{'idx':0x7,'ms':0x7d}],'variation':[{'idx':0x8,'ms':0x7d},{'idx':0x9,'ms':0xfa},{'idx':0x8,'ms':0x7d}]}},'walk':{'east':{'frames':[{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x1,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x4,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x1,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x2,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x4,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x3,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]},'west':{'frames':[{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x6,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x9,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x6,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x7,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}],'variation':[{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25},{'idx':0x9,'ms':0xc8,'px':0.5,'py':0.5,'pz':0.5,'oy':-0x1},{'idx':0x8,'ms':0x64,'px':0.25,'py':0.25,'pz':0.25}]}},'jump-up':{'east':{'frames':[{'idx':0xa,'ms':0xfa,'zmult':!0x0},{'idx':0xb,'ms':0x64,'px':0.3,'pz':0x1},{'idx':0xb,'ms':0x64,'px':0.2},{'idx':0xb,'ms':0x32,'px':0.1},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.25},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.75},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0xfa,'zmult':!0x0},{'idx':0xb,'ms':0x64,'px':0.3,'pz':0x1},{'idx':0xb,'ms':0x64,'px':0.2},{'idx':0xb,'ms':0x32,'px':0.1},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.25},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.75},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'west':{'frames':[{'idx':0xc,'ms':0xfa,'zmult':!0x0},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.6,'pz':0x1,'inty':-0x1},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.4,'inty':-0x2},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x4},{'idx':0xd,'ms':0x64,'px':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0xc,'ms':0xfa,'zmult':!0x0},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.6,'pz':0x1,'inty':-0x1},{'idx':0xd,'ms':0x64,'px':0.3,'py':0.4,'inty':-0x2},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x4},{'idx':0xd,'ms':0x64,'px':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]}},'jump-down':{'east':{'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x2},{'idx':0xb,'ms':0x64,'px':0.2,'inty':-0x1,'py':0.4},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.6,'pz':0x1},{'idx':0xa,'ms':0xfa},{'idx':0x3,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x4},{'idx':0xb,'ms':0x64,'px':0.3,'inty':-0x2},{'idx':0xb,'ms':0x64,'px':0.2,'inty':-0x1,'py':0.4},{'idx':0xb,'ms':0x64,'px':0.2,'py':0.6,'pz':0x1},{'idx':0xa,'ms':0xfa},{'idx':0x3,'ms':0xfa}]},'west':{'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x3},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x6},{'idx':0xd,'ms':0x64,'px':0.3,'inty':-0x7},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x7,'pz':0.1},{'idx':0xd,'ms':0x32,'px':0.1,'inty':-0x4,'py':0.4,'pz':0.4},{'idx':0xd,'ms':0x32,'py':0.6,'pz':0.5},{'idx':0xc,'ms':0xfa},{'idx':0x8,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x3},{'idx':0xd,'ms':0x32,'px':0.2,'inty':-0x6},{'idx':0xd,'ms':0x64,'px':0.3,'inty':-0x7},{'idx':0xd,'ms':0x64,'px':0.2,'inty':-0x7,'pz':0.1},{'idx':0xd,'ms':0x32,'px':0.1,'inty':-0x4,'py':0.4,'pz':0.4},{'idx':0xd,'ms':0x32,'py':0.6,'pz':0.5},{'idx':0xc,'ms':0xfa},{'idx':0x8,'ms':0xfa}]}},'leap':{'east':{'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x32,'inty':-0x3},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x1f4},{'idx':0xb,'ms':0x32,'inty':-0x3},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xb,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xa,'ms':0x96},{'idx':0x3,'ms':0xfa}]},'west':{'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'inty':-0x3},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0xc,'ms':0x1f4},{'idx':0xd,'ms':0x32,'inty':-0x3},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x7,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x5,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'inty':-0x3,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xd,'ms':0x4b,'px':0.2,'py':0.2,'pz':0.2},{'idx':0xc,'ms':0x96},{'idx':0x8,'ms':0xfa}]}},'slash':{'east':{'frames':[{'idx':0x1e,'ms':0xfa},{'idx':0x1f,'ms':0x15e,'event':_0x153456(0xef)},{'idx':0x20,'ms':0xc8}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1e,'ms':0xfa},{'idx':0x1f,'ms':0x15e,'event':'hit'},{'idx':0x20,'ms':0xc8}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'pierce':{'east':{'frames':[{'idx':0x14,'ms':0x1f4},{'idx':0x15,'ms':0x32,'event':_0x153456(0xef)},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x14,'ms':0x1f4},{'idx':0x15,'ms':0x32,'event':_0x153456(0xef)},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'punch':{'east':{'frames':[{'idx':0x15,'ms':0x32,'event':_0x153456(0xef)},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x14,'ms':0x64},{'idx':0x15,'ms':0x32,'event':_0x153456(0xef)},{'idx':0x16,'ms':0x1f4},{'idx':0x15,'ms':0x32}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'slash':{'east':{'mirrored':!0x0,'frames':[{'idx':0x1e,'ms':0x3e8,'intx':0x8,'inty':-0x4,'event':_0x153456(0xef)},{'idx':0x1f,'ms':0x3e8,'intx':0x10,'inty':-0x8},{'idx':0x20,'ms':0x3e8,'intx':0x0,'inty':0x0}]},'south':{'frames':[{'idx':0x1e,'ms':0x28,'intx':0x2,'inty':-0x1},{'idx':0x1e,'ms':0x28,'intx':0x3,'inty':-0x1},{'idx':0x1e,'ms':0x28,'intx':0x4,'inty':-0x2},{'idx':0x1f,'ms':0x32,'intx':0x5,'inty':-0x2},{'idx':0x1f,'ms':0x32,'intx':0x6,'inty':-0x3},{'idx':0x1f,'ms':0x32,'intx':0x7,'inty':-0x3},{'idx':0x1f,'ms':0x190,'intx':0x8,'inty':-0x4},{'idx':0x1e,'ms':0xf,'intx':0x7,'inty':-0x4},{'idx':0x1e,'ms':0xf,'intx':0x6,'inty':-0x3},{'idx':0x1e,'ms':0xf,'intx':0x5,'inty':-0x3},{'idx':0x1e,'ms':0x14,'intx':0x4,'inty':-0x2},{'idx':0x1e,'ms':0x14,'intx':0x3,'inty':-0x2},{'idx':0x1e,'ms':0x14,'intx':0x2,'inty':-0x1},{'idx':0x20,'ms':0x32,'intx':0x2,'inty':-0x1,'event':_0x153456(0xef)},{'idx':0x21,'ms':0x1f4,'intx':0x2,'inty':-0x1},{'idx':0x20,'ms':0x32,'intx':0x0,'inty':0x0}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'slash-reverse':{'east':{'mirrored':!0x0,'frames':[]},'south':{'frames':[{'idx':0x21,'ms':0x12c,'ox':0x2,'oy':-0x1},{'idx':0x20,'ms':0x19,'ox':0x1,'oy':-0x1,'event':'hit'},{'idx':0x20,'ms':0x19,'ox':0x0,'oy':0x0},{'idx':0x1e,'ms':0x14},{'idx':0x1e,'ms':0x14},{'idx':0x1e,'ms':0x14},{'idx':0x1f,'ms':0x190},{'idx':0x1e,'ms':0x28}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'leap-slash':{'east':{'mirrored':!0x0,'frames':[]},'south':{'frames':[{'idx':0x28,'ms':0x12c},{'idx':0x29,'ms':0x1f4},{'idx':0x2a,'ms':0x32},{'idx':0x2b,'ms':0x46,'inty':-0x5,'px':0.66,'py':0x0,'pz':0.5,'xmult':!0x0},{'idx':0x2b,'ms':0x32,'inty':0x0,'px':0.34,'py':0x1,'pz':0.5,'event':_0x153456(0xef),'xmult':!0x0},{'idx':0x2c,'ms':0x32},{'idx':0x20,'ms':0x190}]},'west':{'frames':[]},'north':{'mirrored':!0x0,'frames':[]}},'dash':{'east':{'frames':[{'idx':0x1,'ms':0x32,'px':0x1,'py':0x1}]},'south':{'frames':[{'idx':0x21,'ms':0xfa,'px':0x1,'py':0x1}]},'west':{'frames':[{'idx':0x6,'ms':0x8c,'px':0x1,'py':0x1}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x6,'ms':0x8c,'px':0x1,'py':0x1}]}},'anime':{'south':{'frames':[{'idx':0x21,'ms':0x7d0,'event':_0x153456(0xef)},{'idx':0x22,'ms':0x64}]}},'brace':{'east':{'frames':[{'idx':0xa,'ms':0x3e8,'px':0x1,'py':0x1}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x3e8,'px':0x1,'py':0x1}]},'west':{'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]}},'crouch':{'east':{'frames':[{'idx':0xa,'ms':0x3e8}]},'south':{'mirrored':!0x0,'frames':[{'idx':0xa,'ms':0x3e8}]},'west':{'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x5,'ms':0x3e8,'px':0x1,'py':0x1}]}}}},Unit[_0x153456(0x1e1)][_0x153456(0x1a3)]={'id':_0x153456(0x1a3),'src':_0x153456(0xc5),'sprite':{'height':0x30,'width':0x20},'animations':{'idle':{'east':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]},'south':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]},'west':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]},'north':{'frames':[{'idx':0x1,'ms':0xc8},{'idx':0x0,'ms':0xc8},{'idx':0x2,'ms':0x64,'oy':-0x1},{'idx':0x3,'ms':0x96,'oy':-0x9},{'idx':0x4,'ms':0xfa,'oy':-0xb},{'idx':0x4,'ms':0x64,'oy':-0x9},{'idx':0x4,'ms':0x32,'oy':-0x7},{'idx':0x4,'ms':0x19,'oy':-0x5},{'idx':0x4,'ms':0x19,'oy':-0x3},{'idx':0x4,'ms':0x19,'oy':0x0},{'idx':0x7,'ms':0x32,'oy':0x0},{'idx':0x1,'ms':0xfa}]}},'walk':{'east':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]},'south':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]},'west':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]},'north':{'frames':[{'idx':0x0,'ms':0xfa,'px':0x1,'py':0x1,'pz':0x1},{'idx':0x1,'ms':0xc8}]}},'jump-up':{'east':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]},'west':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x2,'ms':0x64,'oy':-0x3,'py':0.5,'pz':0.5,'px':0.2},{'idx':0x3,'ms':0x64,'oy':-0xb,'py':0.3,'pz':0.3,'px':0.2},{'idx':0x4,'ms':0xc8,'oy':-0xd,'py':0.2,'pz':0.2,'px':0.5},{'idx':0x4,'ms':0x96,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x64,'oy':-0x7},{'idx':0x4,'ms':0x32,'oy':-0x1},{'idx':0x1,'ms':0xfa}]}},'jump-down':{'east':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]},'west':{'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0x19,'ox':0x0},{'idx':0x1,'ms':0x19,'ox':0x1},{'idx':0x1,'ms':0xc8,'ox':0x0},{'idx':0x0,'ms':0xfa},{'idx':0x3,'ms':0x32,'oy':-0x5,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x7,'px':0.15},{'idx':0x3,'ms':0x32,'oy':-0x9,'px':0.1},{'idx':0x3,'ms':0x32,'oy':-0xa,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xd,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xc,'px':0.1},{'idx':0x4,'ms':0x32,'oy':-0xb,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0xa,'px':0.05},{'idx':0x4,'ms':0x32,'oy':-0x9,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x7,'py':0.1,'pz':0.1},{'idx':0x2,'ms':0x19,'oy':-0x5,'py':0.15,'pz':0.15},{'idx':0x2,'ms':0x19,'oy':-0x3,'py':0.15,'pz':0.15},{'idx':0x6,'ms':0x64,'py':0.5,'pz':0.5},{'idx':0x1,'ms':0xfa}]}},'stagger':{'east':{'frames':[{'idx':0x1,'ms':0x78,'intx':-0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x78,'intx':0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]},'south':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x32,'intx':-0x1,'px':0.5,'py':0.5},{'idx':0x1,'ms':0x32,'intx':0x1,'px':0.5,'py':0.5},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]},'west':{'frames':[{'idx':0x1,'ms':0x32,'intx':-0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x32,'intx':0x1,'px':0.5,'py':0.5,'ymult':!0x0},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]},'north':{'mirrored':!0x0,'frames':[{'idx':0x1,'ms':0x32,'intx':-0x1,'px':0.5,'py':0.5,'xmult':!0x0},{'idx':0x1,'ms':0x32,'intx':0x1,'px':0.5,'py':0.5,'xmult':!0x0},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1},{'idx':0x1,'ms':0x32,'intx':-0x1},{'idx':0x1,'ms':0x32,'intx':0x1,'pz':0x1,'zmult':!0x0}]}}}},Unit[_0x153456(0x1e1)][_0x153456(0x15f)]={'id':_0x153456(0x15f),'src':_0x153456(0xc1),'sprite':{'height':0x30,'width':0x20},'animations':{'idle':{'east':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]},'south':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]},'west':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]},'north':{'frames':[{'idx':0x6,'ms':0x3e8},{'idx':0x5,'ms':0x3e8}]}},'move':{'movement':!0x0,'frames':[{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0},{'idx':0x5,'ms':0x19,'p':0.05,'x':-0x1},{'idx':0x5,'ms':0x19,'p':0.05,'x':0x0}]},'jump':{'movement':!0x0,'frames':[{'idx':0x3,'ms':0xc8,'p':0.5,'zu':0x1},{'idx':0x4,'ms':0xc8,'p':0.5,'zd':0x1}]},'defend':{'frames':[{'idx':0x0,'ms':0x3e8},{'idx':0x1,'ms':0x12c},{'idx':0x0,'ms':0x190},{'idx':0x1,'ms':0x64},{'idx':0x4,'ms':0xc8}]},'intro':{'frames':[{'idx':0x0,'ms':0x7d0},{'idx':0x1,'ms':0x3e8},{'idx':0x0,'ms':0x12c},{'idx':0x1,'ms':0x1f4},{'idx':0x2,'ms':0x96},{'idx':0x3,'ms':0x96},{'idx':0x5,'ms':0xbb8}]}}};class WorldController{constructor(){}async[_0x153456(0x16d)](){}[_0x153456(0x1d4)](){}[_0x153456(0x12b)](){}}class Area{constructor(_0x21b0a1,_0xc6b128){const _0x3c4409=_0x153456;this['id']=_0x21b0a1,this[_0x3c4409(0x1bb)]=Asset[_0x3c4409(0x196)](this['id'],'areas',Area[_0x3c4409(0x1e1)][_0x21b0a1][_0x3c4409(0x143)]),this[_0x3c4409(0x1b3)]=Area[_0x3c4409(0x1e1)][_0x21b0a1][_0x3c4409(0x1b3)],this[_0x3c4409(0xf5)]={},this[_0x3c4409(0xf5)]['x1']=this[_0x3c4409(0xf5)]['x2']=this[_0x3c4409(0xf5)]['y2']=0x0,this[_0x3c4409(0x16a)]=_0xc6b128[_0x3c4409(0x16a)][_0x3c4409(0x115)]((_0x23a643,_0x21a3c2)=>_0x23a643[_0x3c4409(0x115)]((_0x232515,_0x59d5af)=>{const _0x1b0016=_0x3c4409,_0x5c50c4=new Location(_0x21a3c2,_0x59d5af,this['tw'],this['td'],this['th'],_0x232515,this[_0x1b0016(0x1b3)]);return this[_0x1b0016(0xf5)]['x1']=Math[_0x1b0016(0x148)](this[_0x1b0016(0xf5)]['x1'],_0x5c50c4['posX']),this['bounds']['x2']=Math['max'](this[_0x1b0016(0xf5)]['x2'],_0x5c50c4[_0x1b0016(0x13e)]),this[_0x1b0016(0xf5)]['y2']=Math[_0x1b0016(0x16e)](this[_0x1b0016(0xf5)]['y2'],_0x5c50c4[_0x1b0016(0x195)]-this['td']),_0x5c50c4;})),this[_0x3c4409(0x156)]={},this[_0x3c4409(0xf7)]='X',this[_0x3c4409(0x156)]['X']=[][_0x3c4409(0x147)](...this[_0x3c4409(0x16a)])[_0x3c4409(0x157)]((_0x2c4126,_0x4902f4)=>_0x2c4126['x']-_0x4902f4['x']?_0x2c4126['x']-_0x4902f4['x']:_0x2c4126['y']-_0x4902f4['y']),this[_0x3c4409(0x156)]['Y']=[][_0x3c4409(0x147)](...this['layout'])['sort']((_0x5f550b,_0x30952d)=>_0x5f550b['y']-_0x30952d['y']?_0x5f550b['y']-_0x30952d['y']:_0x5f550b['x']-_0x30952d['x']);}get['iw'](){const _0x5a545c=_0x153456;return this[_0x5a545c(0x1bb)]['iw'];}get['ih'](){return this['asset']['ih'];}get['sw'](){const _0x191ba6=_0x153456;return this[_0x191ba6(0x1bb)]['sw'];}get['sh'](){const _0x45ddfa=_0x153456;return this[_0x45ddfa(0x1bb)]['sh'];}get['tw'](){return Area['tw'];}get['th'](){return Area['th'];}get['td'](){return Area['td'];}async[_0x153456(0xc4)](){const _0x3441f9=_0x153456;return this[_0x3441f9(0x1bb)][_0x3441f9(0x1a5)]();}}Area[_0x153456(0x1e1)]={},Area['tw']=0x20,Area['th']=0x8,Area['td']=0x10,Area[_0x153456(0x16d)]=async function(){if(null!==Area['data'])return Promise['resolve']();},Area[_0x153456(0x1d4)]=function(_0x579950,_0x1b5074){const _0x1278b9=_0x153456;_0x579950[_0x1278b9(0x156)][_0x579950['method']][_0x1278b9(0xe6)](_0x265f49=>_0x265f49[_0x1278b9(0x1d4)](_0x1b5074,_0x579950[_0x1278b9(0x1b3)]));},Area['render']=function(_0x38437a,_0x840c2a,_0x28e14,_0x2d82c6,_0x484589){const _0x35f489=_0x153456,_0x1ae643=_0x840c2a['x'],_0x19d621=_0x840c2a['y'],_0x1fc071=_0x38437a['tw'],_0x563369=_0x38437a['td'],_0x25f074=_0x38437a['th'],_0x244c7f=_0x38437a['sw'],_0x53d6eb=_0x38437a['sh'],_0x174631=_0x38437a['iw'];let _0x12664b=0x0,_0x28b50b=0x0;_0x840c2a['tiles'][_0x35f489(0xe6)]((_0x20dba1,_0x1edced)=>{const _0x5003d8=_0x35f489;if(-0x1!==_0x20dba1[_0x5003d8(0x164)]){_0x12664b+=_0x20dba1['ox'],_0x28b50b+=_0x20dba1['oy'];const _0x59b273=_0x28e14[_0x5003d8(0x13e)]-((_0x1ae643-_0x19d621)*(_0x1fc071/0x2)+_0x12664b)*_0x484589,_0x4aee94=_0x28e14[_0x5003d8(0x195)]+((_0x1ae643+_0x19d621)*(_0x563369/0x2)-_0x25f074*_0x1edced+_0x28b50b)*_0x484589;_0x2d82c6[_0x5003d8(0x1a9)](),_0x2d82c6[_0x5003d8(0xe8)](_0x59b273,_0x4aee94),_0x2d82c6[_0x5003d8(0x145)](_0x38437a['asset'][_0x5003d8(0x139)],_0x20dba1[_0x5003d8(0x155)]*_0x244c7f%_0x174631,Math[_0x5003d8(0xd9)](_0x20dba1[_0x5003d8(0x155)]*_0x244c7f/_0x174631)*_0x53d6eb,_0x1fc071,_0x25f074+_0x563369,0x0,0x0,_0x1fc071*_0x484589,_0x484589*(_0x25f074+_0x563369)),_0x2d82c6[_0x5003d8(0xf8)]();}});},Area['data']['woodlands']={'id':_0x153456(0x151),'configuration':{'width':0x20,'height':0x20},'animations':{'-1':{'name':_0x153456(0x1cf),'idx':-0x1,'oy':0x8,'unreachable':!0x0},0x0:{'name':_0x153456(0x168),'idx':-0x1,'isHazard':!0x0},0x1:{'name':_0x153456(0x1a0),'idx':0x0,'oy':0x3},0x2:{'name':_0x153456(0x193),'idx':0xa},0x3:{'name':_0x153456(0x191),'idx':0x15,'isWater':!0x0,'oy':0x7},0x4:{'name':'Grass','idx':0x0},0x5:{'name':_0x153456(0xd7),'idx':0xf},0x6:{'name':_0x153456(0x120),'idx':0x10},0x7:{'name':'Dirt\x204','idx':0x11},0xb:{'name':_0x153456(0x183),'idx':0x14,'isWater':!0x0,'oy':0x7},0x15:{'name':_0x153456(0x1c7),'idx':0x1e},0x16:{'name':_0x153456(0x133),'idx':0x23},0x17:{'name':'Stone\x203','idx':0x24},0x18:{'name':_0x153456(0xbf),'idx':0x25},0x19:{'name':'Stone\x20Alt','idx':0x26}}};class Asset{constructor(_0x57bda7,_0x5ea279,_0x7d9a1f){const _0x423dfc=_0x153456;this['id']=_0x57bda7,this[_0x423dfc(0x1a7)]=_0x5ea279,this[_0x423dfc(0x143)]=_0x7d9a1f,this['img']=null,Asset['cache'][_0x5ea279+_0x57bda7]=this;}get['iw'](){const _0x43b18d=_0x153456;return this[_0x43b18d(0x139)][_0x43b18d(0xf6)];}get['ih'](){const _0x166f8d=_0x153456;return this['img'][_0x166f8d(0x170)];}get['sw'](){const _0x3c1ac9=_0x153456;return this[_0x3c1ac9(0x143)][_0x3c1ac9(0xf6)];}get['sh'](){const _0x3d1a20=_0x153456;return this[_0x3d1a20(0x143)][_0x3d1a20(0x170)];}async[_0x153456(0x1a5)](){const _0x59bd1b=_0x153456;if(null!==this[_0x59bd1b(0x139)])return Promise[_0x59bd1b(0x17d)]();return new Promise(_0x5f5d57=>{const _0x5bf4a3=_0x59bd1b;this['img']=new Image(),this[_0x5bf4a3(0x139)][_0x5bf4a3(0x161)]=_0x5f5d57,this['img']['src']=''+ASSET_DIR+OS_FILE_SEPARATOR+this[_0x5bf4a3(0x1a7)]+OS_FILE_SEPARATOR+this['id']+_0x5bf4a3(0x188);});}}Asset['cache']={},Asset[_0x153456(0x196)]=function(_0x21c0e1,_0x3553d0,_0x577db4){const _0x42341e=_0x153456,_0x3113aa=Asset[_0x42341e(0x153)][_0x3553d0+_0x21c0e1];return void 0x0===_0x3113aa?new this(_0x21c0e1,_0x3553d0,_0x577db4):_0x3113aa;};class Camera{constructor(_0x1757e1,_0x288b75,_0x1244de){const _0x33e9a6=_0x153456;this[_0x33e9a6(0x1c1)]={},this[_0x33e9a6(0x1c1)]['x']=window[_0x33e9a6(0xe9)]-0x15e*~~DEV_BUILD,this[_0x33e9a6(0x1c1)]['y']=window['innerHeight'],this[_0x33e9a6(0xfc)]=0x1,this[_0x33e9a6(0x142)]=_0x1244de||0x1,this[_0x33e9a6(0x11f)]={},this['position']['x']=0x0,this[_0x33e9a6(0x11f)]['y']=0x0,this[_0x33e9a6(0x15c)]={},this['target']['x']=0x0,this['target']['y']=0x0,this[_0x33e9a6(0x10b)]=0x0,this[_0x33e9a6(0x1d9)]={},this['adjustment']['x']=0x0,this[_0x33e9a6(0x1d9)]['y']=0x0,this[_0x33e9a6(0xcb)]=!0x1,this[_0x33e9a6(0x10d)]=!0x0,this[_0x33e9a6(0x1b0)]=!0x0,this[_0x33e9a6(0x1a4)]=!0x1,this['keyPanning']=!0x1,this['panningMs']=0x0,this[_0x33e9a6(0xdc)]=0x0,this[_0x33e9a6(0x179)]=0x0,this['xPanBounds']={'min':0x0,'max':0x0},this[_0x33e9a6(0x15a)]={'min':0x0,'max':0x0},this[_0x33e9a6(0x140)]=!0x1,this[_0x33e9a6(0x184)]=0x0,this[_0x33e9a6(0x19b)]=0x0,this[_0x33e9a6(0x15e)]=0x0,this[_0x33e9a6(0x1d1)]=0x0,this[_0x33e9a6(0x17e)]=0x0,this[_0x33e9a6(0x117)]=0x0,window[_0x33e9a6(0xe7)](_0x33e9a6(0x131),()=>this['_resizeCanvas'](_0x1757e1,_0x288b75)),window[_0x33e9a6(0xe7)](_0x33e9a6(0xd6),()=>this[_0x33e9a6(0x1bf)](_0x1757e1,_0x288b75)),this[_0x33e9a6(0x1bf)](_0x1757e1,_0x288b75);}get[_0x153456(0x13e)](){const _0x5f0375=_0x153456;return Math['round'](this[_0x5f0375(0x11f)]['x']);}get['posY'](){const _0x586b07=_0x153456;return Math[_0x586b07(0xbd)](this[_0x586b07(0x11f)]['y']);}[_0x153456(0x171)](_0x5d6e53=this[_0x153456(0x141)]){const _0x1e351a=_0x153456;if(void 0x0!==_0x5d6e53){this[_0x1e351a(0x141)]=_0x5d6e53;const _0x2e4d26=Math[_0x1e351a(0xd9)]((canvas['width']-(_0x5d6e53[_0x1e351a(0xf5)]['x2']+_0x5d6e53[_0x1e351a(0xf5)]['x1'])*this[_0x1e351a(0x142)])/0x2),_0x46c113=Math[_0x1e351a(0xd9)]((canvas['height']-_0x5d6e53[_0x1e351a(0xf5)]['y2']*this['scaling'])/0x2);this[_0x1e351a(0x126)]['min']=_0x2e4d26+_0x5d6e53[_0x1e351a(0xf5)]['x1']-0x3*_0x5d6e53['tw']*this[_0x1e351a(0x142)],this[_0x1e351a(0x126)]['max']=_0x2e4d26+_0x5d6e53[_0x1e351a(0xf5)]['x2']+0x2*_0x5d6e53['tw']*this[_0x1e351a(0x142)],this[_0x1e351a(0x15a)][_0x1e351a(0x148)]=_0x46c113-_0x5d6e53[_0x1e351a(0xf5)]['y2']-0x2*(_0x5d6e53['td']+_0x5d6e53['th'])*this[_0x1e351a(0x142)],this['yPanBounds']['max']=_0x46c113+_0x5d6e53[_0x1e351a(0xf5)]['y2'];}}['toCenter'](_0x2be3f2,_0x468b00,_0x235096=0x0,_0x1d717c=null){const _0x276617=_0x153456,_0x5a73ea=Math[_0x276617(0xd9)]((_0x2be3f2[_0x276617(0xf6)]-(_0x468b00[_0x276617(0xf5)]['x2']+_0x468b00[_0x276617(0xf5)]['x1'])*this[_0x276617(0x142)])/0x2)-_0x468b00['tw']*this[_0x276617(0x142)]/0x2,_0x3cb8fe=Math['floor']((_0x2be3f2['height']-_0x468b00[_0x276617(0xf5)]['y2']*this[_0x276617(0x142)])/0x2)-_0x468b00['td']*this['scaling']/0x2-_0x468b00['th']*this['scaling'];return this[_0x276617(0x106)](_0x5a73ea,_0x3cb8fe,_0x235096,_0x1d717c);}[_0x153456(0x134)](_0x5a3477,_0x39749c=0x0,_0x3059fd=null){const _0x13ec06=_0x153456,_0x1483ee=-Math[_0x13ec06(0xd9)](_0x5a3477[_0x13ec06(0x13e)]*this['scaling']-Game['canvas'][_0x13ec06(0xf6)]/0x2+_0x5a3477['tw']*this[_0x13ec06(0x142)]/0x2),_0x4d1888=-Math[_0x13ec06(0xd9)](_0x5a3477['posY']*this[_0x13ec06(0x142)]-Game[_0x13ec06(0x14c)][_0x13ec06(0x170)]/0x2+_0x5a3477['td']*this['scaling']/0x2);return this['_toPosition'](_0x1483ee,_0x4d1888,_0x39749c,_0x3059fd);}[_0x153456(0x12b)](_0x316d11){const _0x40b15b=_0x153456;if(this[_0x40b15b(0x1b0)]&&this['dragging']){const _0x2b9209=Math['max'](Math[_0x40b15b(0x148)](this[_0x40b15b(0x126)][_0x40b15b(0x16e)],this[_0x40b15b(0x184)]+(this[_0x40b15b(0x17e)]-this[_0x40b15b(0x15e)])),this['xPanBounds']['min']),_0x39383d=Math[_0x40b15b(0x16e)](Math[_0x40b15b(0x148)](this[_0x40b15b(0x15a)][_0x40b15b(0x16e)],this[_0x40b15b(0x19b)]+(this[_0x40b15b(0x117)]-this[_0x40b15b(0x1d1)])),this['yPanBounds']['min']);this[_0x40b15b(0x106)](_0x2b9209,_0x39383d,0x0);}else{if(this[_0x40b15b(0x10d)]&&(Input[_0x40b15b(0xe5)]['a']||Input[_0x40b15b(0xe5)]['d']||Input['keysDown']['w']||Input[_0x40b15b(0xe5)]['s'])){Game['camera'][_0x40b15b(0xdc)]=~~Input[_0x40b15b(0xe5)]['d']-~~Input['keysDown']['a'],Game[_0x40b15b(0x13c)][_0x40b15b(0x179)]=~~Input[_0x40b15b(0xe5)]['s']-~~Input[_0x40b15b(0xe5)]['w'];const _0x519df7=Math[_0x40b15b(0x16e)](Math['min'](this[_0x40b15b(0x126)][_0x40b15b(0x16e)],this[_0x40b15b(0x15c)]['x']-0xf*this['xPanAngle']),this[_0x40b15b(0x126)]['min']),_0x131c18=Math['max'](Math[_0x40b15b(0x148)](this[_0x40b15b(0x15a)][_0x40b15b(0x16e)],this['target']['y']-0xf*this[_0x40b15b(0x179)]),this[_0x40b15b(0x15a)][_0x40b15b(0x148)]);this['_toPosition'](_0x519df7,_0x131c18,_0x316d11);}else{if(this[_0x40b15b(0xcb)]&&this[_0x40b15b(0x1a4)]){const _0x240270=Math[_0x40b15b(0x16e)](Math[_0x40b15b(0x148)](this[_0x40b15b(0x126)][_0x40b15b(0x16e)],this[_0x40b15b(0x15c)]['x']-0xf*this['xPanAngle']),this[_0x40b15b(0x126)][_0x40b15b(0x148)]),_0x3a5489=Math[_0x40b15b(0x16e)](Math[_0x40b15b(0x148)](this['yPanBounds']['max'],this[_0x40b15b(0x15c)]['y']-0xf*this[_0x40b15b(0x179)]),this[_0x40b15b(0x15a)][_0x40b15b(0x148)]);this['_toPosition'](_0x240270,_0x3a5489,_0x316d11);}}}if(this['isProcessingCameraMovement']){this[_0x40b15b(0x10b)]=Math[_0x40b15b(0x16e)](this[_0x40b15b(0x10b)]-_0x316d11,0x0);const _0x1b1b79=this['_calculateCameraOffsets'](_0x316d11);this[_0x40b15b(0x11f)]['x']+=_0x1b1b79['x'],this['position']['y']+=_0x1b1b79['y'],this[_0x40b15b(0x11f)]['x']==this['target']['x']&&this[_0x40b15b(0x11f)]['y']==this[_0x40b15b(0x15c)]['y']&&Events[_0x40b15b(0x1e2)]('camera-movement-complete');}}[_0x153456(0x106)](_0x2b03b5,_0x129d65,_0x59d9d9=0x0,_0xc04866=_0x153456(0x1e0)){const _0x313c89=_0x153456;return this['isProcessingCameraMovement']=!0x0,0x0===_0x59d9d9&&(this[_0x313c89(0x11f)]['x']=_0x2b03b5,this['position']['y']=_0x129d65),this['target']['x']=_0x2b03b5,this[_0x313c89(0x15c)]['y']=_0x129d65,this['msRemaining']=_0x59d9d9,this[_0x313c89(0x154)]=_0xc04866,new Promise(_0x59e73a=>{const _0x3c629a=_0x313c89;Events[_0x3c629a(0xf0)]('camera-movement-complete',()=>{const _0x578868=_0x3c629a;this[_0x578868(0x12d)]=!0x1,_0x59e73a();});});}[_0x153456(0x1bf)](_0x58f81f,_0x55d556){const _0x2b4ae0=_0x153456;if(this[_0x2b4ae0(0x182)])return this[_0x2b4ae0(0x119)]=!0x0;this['isProcessingResize']=!0x0;const _0x21c9a9=_0x58f81f['width'],_0x9d9ef4=_0x58f81f['height'];this[_0x2b4ae0(0x1c1)]['x']=window[_0x2b4ae0(0xe9)]-0x15e*~~DEV_BUILD,_0x58f81f[_0x2b4ae0(0xf6)]=Math['ceil'](this[_0x2b4ae0(0x1c1)]['x']/this[_0x2b4ae0(0xfc)]),_0x58f81f[_0x2b4ae0(0x1e4)][_0x2b4ae0(0xf6)]=_0x58f81f[_0x2b4ae0(0xf6)]*this[_0x2b4ae0(0xfc)]+'px',this[_0x2b4ae0(0x1c1)]['y']=window[_0x2b4ae0(0x1dd)],_0x58f81f[_0x2b4ae0(0x170)]=Math[_0x2b4ae0(0xbc)](this[_0x2b4ae0(0x1c1)]['y']/this[_0x2b4ae0(0xfc)]),_0x58f81f['style']['height']=_0x58f81f[_0x2b4ae0(0x170)]*this[_0x2b4ae0(0xfc)]+'px';const _0x472ff8=(_0x58f81f[_0x2b4ae0(0xf6)]-_0x21c9a9)/0x2-this[_0x2b4ae0(0x1d9)]['x'],_0x1e3d04=(_0x58f81f[_0x2b4ae0(0x170)]-_0x9d9ef4)/0x2-this[_0x2b4ae0(0x1d9)]['y'];return this[_0x2b4ae0(0x1d9)]['x']=Math['round'](_0x472ff8)-_0x472ff8,this[_0x2b4ae0(0x1d9)]['y']=Math[_0x2b4ae0(0xbd)](_0x1e3d04)-_0x1e3d04,this['position']['x']=this[_0x2b4ae0(0x15c)]['x']=this[_0x2b4ae0(0x11f)]['x']+Math[_0x2b4ae0(0xbd)](_0x472ff8),this['position']['y']=this['target']['y']=this[_0x2b4ae0(0x11f)]['y']+Math[_0x2b4ae0(0xbd)](_0x1e3d04),this[_0x2b4ae0(0x182)]=!0x1,_0x55d556[_0x2b4ae0(0x121)]=!0x1,this[_0x2b4ae0(0x171)](),!!this[_0x2b4ae0(0x119)]&&void(this[_0x2b4ae0(0x119)]=!0x1,this[_0x2b4ae0(0x1bf)](_0x58f81f,_0x55d556));}[_0x153456(0x19d)](_0x4d9da2){const _0x1c975c=_0x153456;let _0xe5dd38=Math[_0x1c975c(0x148)](_0x4d9da2/this[_0x1c975c(0x10b)],0x1);_0x1c975c(0xf3)!=this[_0x1c975c(0x154)]&&(_0xe5dd38*='ease-out'==this[_0x1c975c(0x154)]?0x2-_0xe5dd38:0xa*_0xe5dd38);const _0x1b537f=_0xe5dd38*(this['target']['x']-this[_0x1c975c(0x11f)]['x']),_0x1b7c9d=_0xe5dd38*(this[_0x1c975c(0x15c)]['y']-this[_0x1c975c(0x11f)]['y']);let _0x3c2547=0x0,_0x479443=0x0;return 0x0<this[_0x1c975c(0x15c)]['x']-this[_0x1c975c(0x11f)]['x']?_0x3c2547=Math['min'](this[_0x1c975c(0x15c)]['x'],this[_0x1c975c(0x11f)]['x']+_0x1b537f)-this[_0x1c975c(0x11f)]['x']:0x0>this[_0x1c975c(0x15c)]['x']-this['position']['x']&&(_0x3c2547=Math['max'](this[_0x1c975c(0x15c)]['x'],this['position']['x']+_0x1b537f)-this[_0x1c975c(0x11f)]['x']),0x0<this[_0x1c975c(0x15c)]['y']-this[_0x1c975c(0x11f)]['y']?_0x479443=Math[_0x1c975c(0x148)](this['target']['y'],this[_0x1c975c(0x11f)]['y']+_0x1b7c9d)-this['position']['y']:0x0>this[_0x1c975c(0x15c)]['y']-this[_0x1c975c(0x11f)]['y']&&(_0x479443=Math[_0x1c975c(0x16e)](this[_0x1c975c(0x15c)]['y'],this[_0x1c975c(0x11f)]['y']+_0x1b7c9d)-this[_0x1c975c(0x11f)]['y']),{'x':_0x3c2547,'y':_0x479443};}}class CombatController{constructor(){const _0x21f22e=_0x153456;this[_0x21f22e(0xec)]=null,this[_0x21f22e(0xcf)]=null;}get[_0x153456(0x1c9)](){const _0x579088=_0x153456;return this[_0x579088(0xec)][_0x579088(0x1c9)];}get[_0x153456(0x160)](){const _0x46d8cf=_0x153456;return this[_0x46d8cf(0xec)][_0x46d8cf(0x160)];}get[_0x153456(0xd0)](){const _0xf6c7f9=_0x153456;return this[_0xf6c7f9(0xec)][_0xf6c7f9(0xd0)];}async[_0x153456(0x16d)](){const _0x191c06=_0x153456;return Promise[_0x191c06(0x17d)]();}async['prepare'](_0x3fad39){const _0x17fa65=_0x153456;this[_0x17fa65(0xcf)]=new Scenario(_0x3fad39),await this[_0x17fa65(0xcf)][_0x17fa65(0xc4)]();}[_0x153456(0x1ce)](){const _0x453d7a=_0x153456;this[_0x453d7a(0xec)]=this[_0x453d7a(0xcf)],Game[_0x453d7a(0x13c)]['setPanningBoundaries'](this[_0x453d7a(0x1c9)]),Game[_0x453d7a(0x13c)][_0x453d7a(0xe2)](Game['canvas'],this[_0x453d7a(0x1c9)]);}[_0x153456(0x12b)](_0x169e82){const _0xcc81b7=_0x153456;Area[_0xcc81b7(0x1d4)](this[_0xcc81b7(0x1c9)],_0x169e82),Decorations[_0xcc81b7(0x1d4)](this[_0xcc81b7(0xd0)],_0x169e82),this[_0xcc81b7(0x1c9)]['sorted'][this[_0xcc81b7(0x1c9)][_0xcc81b7(0xf7)]]['forEach'](_0x460439=>{const _0x46b4ec=_0xcc81b7;Area[_0x46b4ec(0x12b)](this['area'],_0x460439,Game['camera'],Game[_0x46b4ec(0x11b)],Game[_0x46b4ec(0x142)]),Decorations[_0x46b4ec(0x12b)](this['decorations'],_0x460439,Game['camera'],Game[_0x46b4ec(0x11b)],Game[_0x46b4ec(0x142)]);});}[_0x153456(0x1ab)](_0x577461){const _0x47a51d=_0x153456;Game[_0x47a51d(0x13c)][_0x47a51d(0x140)]?(Game[_0x47a51d(0x13c)][_0x47a51d(0x17e)]=_0x577461['x'],Game[_0x47a51d(0x13c)][_0x47a51d(0x117)]=_0x577461['y']):0x1e>_0x577461['x']||_0x577461['x']>Game[_0x47a51d(0x13c)]['window']['x']+0x15e*~~DEV_BUILD-0x1e||0x14>_0x577461['y']||_0x577461['y']>Game[_0x47a51d(0x13c)][_0x47a51d(0x1c1)]['y']-0x14?(Game[_0x47a51d(0x13c)][_0x47a51d(0x1a4)]=!0x0,Game['camera'][_0x47a51d(0xdc)]=0x2*((_0x577461['x']-Game['camera']['window']['x']/0x2)/Game[_0x47a51d(0x13c)][_0x47a51d(0x1c1)]['x']),Game[_0x47a51d(0x13c)][_0x47a51d(0x179)]=0x2*((_0x577461['y']-Game[_0x47a51d(0x13c)][_0x47a51d(0x1c1)]['y']/0x2)/Game[_0x47a51d(0x13c)]['window']['y'])):(Game[_0x47a51d(0x13c)][_0x47a51d(0x1a4)]=!0x1,Game[_0x47a51d(0x13c)][_0x47a51d(0xd5)]=0x0,Game[_0x47a51d(0x13c)][_0x47a51d(0xdc)]=0x0,Game[_0x47a51d(0x13c)][_0x47a51d(0x179)]=0x0);}['onMouseOut'](){const _0x20adff=_0x153456;Game[_0x20adff(0x13c)]['panning']=!0x1;}[_0x153456(0xe1)](){}[_0x153456(0xe0)](){}[_0x153456(0x13d)](_0x5883a1){const _0x1e62aa=_0x153456;_0x5883a1['target']==Game[_0x1e62aa(0x14c)]&&0x1>=_0x5883a1[_0x1e62aa(0x185)]&&(Game[_0x1e62aa(0x14c)][_0x1e62aa(0x14a)][_0x1e62aa(0x172)](_0x1e62aa(0x140),!0x0),Game[_0x1e62aa(0x13c)][_0x1e62aa(0x184)]=Game['camera'][_0x1e62aa(0x15c)]['x'],Game[_0x1e62aa(0x13c)]['dragStartCamPosY']=Game['camera'][_0x1e62aa(0x15c)]['y'],Game[_0x1e62aa(0x13c)][_0x1e62aa(0x15e)]=Game['camera'][_0x1e62aa(0x17e)]=_0x5883a1['x'],Game[_0x1e62aa(0x13c)]['dragStartY']=Game[_0x1e62aa(0x13c)][_0x1e62aa(0x117)]=_0x5883a1['y'],Game[_0x1e62aa(0x13c)][_0x1e62aa(0x140)]=!0x0);}[_0x153456(0x13b)](_0x4008d1){const _0x4dc5c4=_0x153456;0x1>=_0x4008d1[_0x4dc5c4(0x185)]&&(Game[_0x4dc5c4(0x14c)][_0x4dc5c4(0x14a)][_0x4dc5c4(0x172)](_0x4dc5c4(0x140),!0x1),Game[_0x4dc5c4(0x13c)]['dragging']=!0x1);}[_0x153456(0x166)](){}[_0x153456(0x198)](){}[_0x153456(0x12e)](){}}