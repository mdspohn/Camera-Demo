var _0x3bdf=['onMouseOut','initialize','console','decorations','length','error','warn','prepare','scenario','trace','__proto__','undefined','1uvKAMK','render','dragCurrentX','exception','onRightClick','sorted','button','yPanAngle','resolve','885661VITiDS','toString','dragging','25HhOmCl','constructor','panningMs','onMouseDown','onKeyDown','window','onClick','function','256544ECLfyA','dragStartY','1871KgWqwK','setPanningBoundaries','test','log','toggle','1683052dtLBnO','info','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','area','xPanAngle','_load','update','camera','panning','canvas','641867BTftnB','units','bind','preload','onKeyUp','apply','436308IpvdEQ','dragStartCamPosY','43620nPgxVe','target','scaling','dragCurrentY','toCenter','521etxRte','ctx','forEach','onMouseWheel','RegExp','onMouseMove','object'];var _0x1b0388=_0xb847;(function(_0x5846e5,_0x84d49f){var _0x4155fe=_0xb847;while(!![]){try{var _0x2137e4=-parseInt(_0x4155fe(0xc0))+-parseInt(_0x4155fe(0xb8))*parseInt(_0x4155fe(0x94))+parseInt(_0x4155fe(0x99))*parseInt(_0x4155fe(0xc2))+-parseInt(_0x4155fe(0xb5))+-parseInt(_0x4155fe(0x92))+parseInt(_0x4155fe(0xac))*parseInt(_0x4155fe(0x8c))+parseInt(_0x4155fe(0xc7));if(_0x2137e4===_0x84d49f)break;else _0x5846e5['push'](_0x5846e5['shift']());}catch(_0x4588c3){_0x5846e5['push'](_0x5846e5['shift']());}}}(_0x3bdf,0x99fa9));var _0x20d316=function(){var _0x1bb547=!![];return function(_0x15f743,_0x3b2cf7){var _0x303e2d=_0x1bb547?function(){var _0x4d5598=_0xb847;if(_0x3b2cf7){var _0x179696=_0x3b2cf7[_0x4d5598(0x91)](_0x15f743,arguments);return _0x3b2cf7=null,_0x179696;}}:function(){};return _0x1bb547=![],_0x303e2d;};}(),_0x4591c1=_0x20d316(this,function(){var _0x44eea=_0xb847,_0x175c56=typeof window!==_0x44eea(0xab)?window:typeof process===_0x44eea(0x9f)&&typeof require==='function'&&typeof global===_0x44eea(0x9f)?global:this,_0x599069=function(){var _0x1f7e1d=_0x44eea,_0x27623c=new _0x175c56[(_0x1f7e1d(0x9d))](_0x1f7e1d(0xc9));return!_0x27623c[_0x1f7e1d(0xc4)](_0x4591c1);};return _0x599069();});_0x4591c1();var _0xf66fb6=function(){var _0x245c8e=!![];return function(_0x550d35,_0x397ecf){var _0x6ab281=_0x245c8e?function(){var _0x4de156=_0xb847;if(_0x397ecf){var _0x52b76f=_0x397ecf[_0x4de156(0x91)](_0x550d35,arguments);return _0x397ecf=null,_0x52b76f;}}:function(){};return _0x245c8e=![],_0x6ab281;};}(),_0x4b6748=_0xf66fb6(this,function(){var _0x18ca53=_0xb847,_0x9a7b22=typeof window!==_0x18ca53(0xab)?window:typeof process==='object'&&typeof require===_0x18ca53(0xbf)&&typeof global===_0x18ca53(0x9f)?global:this,_0xa6556b=_0x9a7b22[_0x18ca53(0xa2)]=_0x9a7b22['console']||{},_0x48be64=[_0x18ca53(0xc5),_0x18ca53(0xa6),_0x18ca53(0xc8),_0x18ca53(0xa5),_0x18ca53(0xaf),'table',_0x18ca53(0xa9)];for(var _0xbb9cb9=0x0;_0xbb9cb9<_0x48be64[_0x18ca53(0xa4)];_0xbb9cb9++){var _0x5211a8=_0xf66fb6[_0x18ca53(0xb9)]['prototype'][_0x18ca53(0x8e)](_0xf66fb6),_0x5116b0=_0x48be64[_0xbb9cb9],_0xd38b3=_0xa6556b[_0x5116b0]||_0x5211a8;_0x5211a8[_0x18ca53(0xaa)]=_0xf66fb6[_0x18ca53(0x8e)](_0xf66fb6),_0x5211a8[_0x18ca53(0xb6)]=_0xd38b3[_0x18ca53(0xb6)][_0x18ca53(0x8e)](_0xd38b3),_0xa6556b[_0x5116b0]=_0x5211a8;}});_0x4b6748();function _0xb847(_0x567766,_0x5e0bbc){_0x567766=_0x567766-0x8a;var _0x4c30ee=_0x3bdf[_0x567766];return _0x4c30ee;}class CombatController{constructor(){var _0x5391ed=_0xb847;this[_0x5391ed(0xa8)]=null,this['preload']=null;}get['area'](){var _0x6b1a7=_0xb847;return this[_0x6b1a7(0xa8)]['area'];}get[_0x1b0388(0x8d)](){var _0x147978=_0x1b0388;return this[_0x147978(0xa8)]['units'];}get['decorations'](){var _0x1b15ec=_0x1b0388;return this[_0x1b15ec(0xa8)][_0x1b15ec(0xa3)];}async[_0x1b0388(0xcc)](){var _0x1cdb9b=_0x1b0388;return Promise[_0x1cdb9b(0xb4)]();}async[_0x1b0388(0xa7)](_0x717720){var _0x50702e=_0x1b0388;this[_0x50702e(0x8f)]=new Scenario(_0x717720),await this[_0x50702e(0x8f)][_0x50702e(0xa7)]();}[_0x1b0388(0xa1)](){var _0x295303=_0x1b0388;this[_0x295303(0xa8)]=this[_0x295303(0x8f)],Game[_0x295303(0xce)][_0x295303(0xc3)](this[_0x295303(0xa8)]['area']),Game[_0x295303(0xce)][_0x295303(0x98)](Game[_0x295303(0x8b)],this[_0x295303(0xa8)][_0x295303(0xca)]);}[_0x1b0388(0xad)](_0x308978){var _0x3d5020=_0x1b0388;Area[_0x3d5020(0xcd)](this[_0x3d5020(0xca)],_0x308978),Decorations[_0x3d5020(0xcd)](this[_0x3d5020(0xa3)],_0x308978),this[_0x3d5020(0xca)][_0x3d5020(0xb1)][this['area']['method']][_0x3d5020(0x9b)](_0x279a2c=>{var _0x2029f9=_0x3d5020;Area[_0x2029f9(0xad)](this[_0x2029f9(0xca)],_0x279a2c,Game[_0x2029f9(0xce)],Game[_0x2029f9(0x9a)],Game[_0x2029f9(0x96)]),Decorations[_0x2029f9(0xad)](this[_0x2029f9(0xa3)],_0x279a2c,Game[_0x2029f9(0xce)],Game[_0x2029f9(0x9a)],Game[_0x2029f9(0x96)]);});}[_0x1b0388(0x9e)](_0x5b4c72){var _0x1654b1=_0x1b0388;if(Game[_0x1654b1(0xce)][_0x1654b1(0xb7)])Game[_0x1654b1(0xce)]['dragCurrentX']=_0x5b4c72['x'],Game['camera'][_0x1654b1(0x97)]=_0x5b4c72['y'];else _0x5b4c72['x']<0x1e||_0x5b4c72['x']>Game[_0x1654b1(0xce)][_0x1654b1(0xbd)]['x']-0x1e||_0x5b4c72['y']<0x14||_0x5b4c72['y']>Game['camera'][_0x1654b1(0xbd)]['y']-0x14?(Game[_0x1654b1(0xce)][_0x1654b1(0x8a)]=!![],Game[_0x1654b1(0xce)][_0x1654b1(0xcb)]=(_0x5b4c72['x']-Game[_0x1654b1(0xce)][_0x1654b1(0xbd)]['x']/0x2)/Game[_0x1654b1(0xce)][_0x1654b1(0xbd)]['x']*0x2,Game[_0x1654b1(0xce)]['yPanAngle']=(_0x5b4c72['y']-Game[_0x1654b1(0xce)][_0x1654b1(0xbd)]['y']/0x2)/Game[_0x1654b1(0xce)][_0x1654b1(0xbd)]['y']*0x2):(Game[_0x1654b1(0xce)][_0x1654b1(0x8a)]=![],Game[_0x1654b1(0xce)][_0x1654b1(0xba)]=0x0,Game[_0x1654b1(0xce)]['xPanAngle']=0x0,Game[_0x1654b1(0xce)][_0x1654b1(0xb3)]=0x0);}[_0x1b0388(0xa0)](_0x4028b5){var _0x548376=_0x1b0388;Game['camera'][_0x548376(0x8a)]=![];}[_0x1b0388(0x9c)](_0x2b54c3){}[_0x1b0388(0xbe)](_0x55e8d9){}[_0x1b0388(0xbb)](_0x562efa){var _0x2a8662=_0x1b0388;_0x562efa['target']==Game[_0x2a8662(0x8b)]&&_0x562efa['button']<=0x1&&(Game[_0x2a8662(0x8b)]['classList'][_0x2a8662(0xc6)](_0x2a8662(0xb7),!![]),Game[_0x2a8662(0xce)]['dragStartCamPosX']=Game['camera'][_0x2a8662(0x95)]['x'],Game[_0x2a8662(0xce)][_0x2a8662(0x93)]=Game[_0x2a8662(0xce)][_0x2a8662(0x95)]['y'],Game[_0x2a8662(0xce)]['dragStartX']=Game['camera'][_0x2a8662(0xae)]=_0x562efa['x'],Game[_0x2a8662(0xce)][_0x2a8662(0xc1)]=Game[_0x2a8662(0xce)]['dragCurrentY']=_0x562efa['y'],Game['camera']['dragging']=!![]);}['onMouseUp'](_0x92cba5){var _0x817bf7=_0x1b0388;_0x92cba5[_0x817bf7(0xb2)]<=0x1&&(Game[_0x817bf7(0x8b)]['classList'][_0x817bf7(0xc6)]('dragging',![]),Game[_0x817bf7(0xce)][_0x817bf7(0xb7)]=![]);}[_0x1b0388(0xb0)](_0x207ad9){}[_0x1b0388(0xbc)](_0x244b66){}[_0x1b0388(0x90)](_0x3d24d6){}}